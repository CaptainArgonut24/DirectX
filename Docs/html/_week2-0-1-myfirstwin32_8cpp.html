<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GAME3111: Week2/Week 2-0-myfirstwin32/Week2-0-1-myfirstwin32.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GAME3111
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_week2-0-1-myfirstwin32_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Week2-0-1-myfirstwin32.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Illustrates the minimal amount of the Win32 code needed for Direct3D programming.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;windows.h&gt;</code><br />
</div>
<p><a href="_week2-0-1-myfirstwin32_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab8486c7144b04977e4ed8b5b7daa21b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_week2-0-1-myfirstwin32_8cpp.html#ab8486c7144b04977e4ed8b5b7daa21b6">InitWindowsApp</a> (HINSTANCE instanceHandle, int show)</td></tr>
<tr class="memdesc:ab8486c7144b04977e4ed8b5b7daa21b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps the code necessary to initialize a Windows application.  <a href="_week2-0-1-myfirstwin32_8cpp.html#ab8486c7144b04977e4ed8b5b7daa21b6">More...</a><br /></td></tr>
<tr class="separator:ab8486c7144b04977e4ed8b5b7daa21b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac704aea738c1edc384a97e51d60662b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_week2-0-1-myfirstwin32_8cpp.html#aac704aea738c1edc384a97e51d60662b">Run</a> ()</td></tr>
<tr class="memdesc:aac704aea738c1edc384a97e51d60662b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps the message loop code.  <a href="_week2-0-1-myfirstwin32_8cpp.html#aac704aea738c1edc384a97e51d60662b">More...</a><br /></td></tr>
<tr class="separator:aac704aea738c1edc384a97e51d60662b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2641211f9fb5d626cfc3bbfd916829b0"><td class="memItemLeft" align="right" valign="top">LRESULT CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_week2-0-1-myfirstwin32_8cpp.html#a2641211f9fb5d626cfc3bbfd916829b0">WndProc</a> (HWND hWnd, UINT msg, WPARAM wParam, LPARAM lParam)</td></tr>
<tr class="memdesc:a2641211f9fb5d626cfc3bbfd916829b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The window procedure handles events our window receives.  <a href="_week2-0-1-myfirstwin32_8cpp.html#a2641211f9fb5d626cfc3bbfd916829b0">More...</a><br /></td></tr>
<tr class="separator:a2641211f9fb5d626cfc3bbfd916829b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693c206d5a0fb9775a3c249176a9e089"><td class="memItemLeft" align="right" valign="top">int WINAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_week2-0-1-myfirstwin32_8cpp.html#a693c206d5a0fb9775a3c249176a9e089">WinMain</a> (HINSTANCE hInstance, HINSTANCE hPrevInstance, PSTR pCmdLine, int nShowCmd)</td></tr>
<tr class="memdesc:a693c206d5a0fb9775a3c249176a9e089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Windows equivalant to <a class="el" href="_week1-1-_x_m_verify_c_p_u_support_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a> - #define WINAPI __stdcall specifies the calling convention of the function, how the function arguments get placed on the stack.  <a href="_week2-0-1-myfirstwin32_8cpp.html#a693c206d5a0fb9775a3c249176a9e089">More...</a><br /></td></tr>
<tr class="separator:a693c206d5a0fb9775a3c249176a9e089"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab83be9929c1aaf9638ea2f4bff0dbe99"><td class="memItemLeft" align="right" valign="top">HWND&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_week2-0-1-myfirstwin32_8cpp.html#ab83be9929c1aaf9638ea2f4bff0dbe99">ghMainWnd</a> = 0</td></tr>
<tr class="memdesc:ab83be9929c1aaf9638ea2f4bff0dbe99"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main window handle; this is used to identify a created window.  <a href="_week2-0-1-myfirstwin32_8cpp.html#ab83be9929c1aaf9638ea2f4bff0dbe99">More...</a><br /></td></tr>
<tr class="separator:ab83be9929c1aaf9638ea2f4bff0dbe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Illustrates the minimal amount of the Win32 code needed for Direct3D programming. </p>
<p >Include the windows header file; this has all the Win32 API structures, types, and function declarations we need to program Windows.</p>
<dl class="section attention"><dt>Attention</dt><dd>: Program requires Windows Desktop Empty App! </dd></dl>
<dl class="section note"><dt>Note</dt><dd>: Use "Windows Desktop Wizard Template", Empty Project, Chosse Windows Desktop Application</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Hooman Salamat </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000011">Bug:</a></b></dt><dd>No known bugs. </dd></dl>

<p class="definition">Definition in file <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html">Week2-0-1-myfirstwin32.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab8486c7144b04977e4ed8b5b7daa21b6" name="ab8486c7144b04977e4ed8b5b7daa21b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8486c7144b04977e4ed8b5b7daa21b6">&#9670;&nbsp;</a></span>InitWindowsApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InitWindowsApp </td>
          <td>(</td>
          <td class="paramtype">HINSTANCE&#160;</td>
          <td class="paramname"><em>instanceHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>show</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wraps the code necessary to initialize a Windows application. </p>
<p >our wrapper function (InitWindowsApp) to create and initialize the main application window, passing in the hInstance and nShowCmd values as arguments.</p>
<p >Function returns true if initialization was successful, otherwise it returns false. </p>
<p >The first task to creating a window is to describe some of its characteristics by filling out a WNDCLASS structure.</p>
<p >redrew when horizontal or vertical window size is changed</p>
<p >pointer to windows procedure function, if you have two windows, you might consider having 2 windows classes with 2 different window procedures</p>
<p >extra memory slots</p>
<p >extra memory slots</p>
<p >deault application icon - you can use your own design icon</p>
<p >uses standard arrow cursor - you can use your own design cursor</p>
<p >uses white color as the background color for the client area of the window.</p>
<p >spcifies the windows menu. We have no menu.</p>
<p >Next, we register this WNDCLASS instance with Windows so that we can create a window based on it.</p>
<p >With our WNDCLASS instance registered, we can create a window with the CreateWindow function. This function returns a handle to the window it creates (an HWND). If the creation failed, the handle will have the value of zero. <a class="el" href="class_a.html">A</a> window handle is a way to refer to the window, which is internally managed by Windows. Many of the Win32 API functions that operate on windows require an HWND so that they know what window to act on.</p>
<p >Registered WNDCLASS instance to use.</p>
<p >window title</p>
<p >style flags such as WS_MINIMIZEBOX, etc..</p>
<p >x-coordinate of top-left corner relative to the screen</p>
<p >y-coordinate of top-left corner relative to the screen</p>
<p >width in pixels</p>
<p >height in pixels</p>
<p >parent window - there is no parent window</p>
<p >menu handle - we have no menu</p>
<p >app instance</p>
<p >extra creation parameters, <a class="el" href="class_a.html">A</a> window handles the WM_CREATE message if it wants to do something.</p>
<p >Even though we just created a window, it is not initially shown. Therefore, the final step is to show and update the window we just created, which can be done with the following two function calls. Observe that we pass the handle to the window we want to show and update so that these functions know which window to show and update. <br  />
</p>

<p class="definition">Definition at line <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html#l00052">52</a> of file <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html">Week2-0-1-myfirstwin32.cpp</a>.</p>

</div>
</div>
<a id="aac704aea738c1edc384a97e51d60662b" name="aac704aea738c1edc384a97e51d60662b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac704aea738c1edc384a97e51d60662b">&#9670;&nbsp;</a></span>Run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wraps the message loop code. </p>
<p >int <a class="el" href="_week2-0-1-myfirstwin32_8cpp.html#aac704aea738c1edc384a97e51d60662b" title="Wraps the message loop code.">Run()</a> { MSG msg = { 0 }; //! Loop until we get a WM_QUIT message.</p>
<p >The function //! GetMessage will only return 0 (false) when a WM_QUIT message //! is received, which effectively exits the loop. The function //! returns -1 if there is an error. Also, note that GetMessage //! puts the application thread to sleep until there is a //! message. BOOL bRet = 1; while ((bRet = GetMessage(&amp;msg, 0, 0, 0)) != 0) { if (bRet == -1) { MessageBox(0, L"GetMessage FAILED", L"Error", MB_OK); break; } else { TranslateMessage(&amp;msg); DispatchMessage(&amp;msg); } } return (int)msg.wParam; } </p>
<p >If there are Window messages then process them.</p>
<p >Otherwise, do animation/game stuff.</p>

<p class="definition">Definition at line <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html#l00141">141</a> of file <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html">Week2-0-1-myfirstwin32.cpp</a>.</p>

</div>
</div>
<a id="a693c206d5a0fb9775a3c249176a9e089" name="a693c206d5a0fb9775a3c249176a9e089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a693c206d5a0fb9775a3c249176a9e089">&#9670;&nbsp;</a></span>WinMain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WINAPI WinMain </td>
          <td>(</td>
          <td class="paramtype">HINSTANCE&#160;</td>
          <td class="paramname"><em>hInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HINSTANCE&#160;</td>
          <td class="paramname"><em>hPrevInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PSTR&#160;</td>
          <td class="paramname"><em>pCmdLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nShowCmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Windows equivalant to <a class="el" href="_week1-1-_x_m_verify_c_p_u_support_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a> - #define WINAPI __stdcall specifies the calling convention of the function, how the function arguments get placed on the stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nShowCmd</td><td>how our application should be displayed min-maximized </td></tr>
  </table>
  </dd>
</dl>
<p >First call our wrapper function (InitWindowsApp)</p>
<p >Once our application has been created and initialized we enter the message loop. We stay in the message loop until a WM_QUIT mesage is received, indicating the application should be terminated.</p>

<p class="definition">Definition at line <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html#l00035">35</a> of file <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html">Week2-0-1-myfirstwin32.cpp</a>.</p>

</div>
</div>
<a id="a2641211f9fb5d626cfc3bbfd916829b0" name="a2641211f9fb5d626cfc3bbfd916829b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2641211f9fb5d626cfc3bbfd916829b0">&#9670;&nbsp;</a></span>WndProc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LRESULT CALLBACK WndProc </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>hWnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WPARAM&#160;</td>
          <td class="paramname"><em>wParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPARAM&#160;</td>
          <td class="paramname"><em>lParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The window procedure handles events our window receives. </p>
<p >callback function means Windows will be calling this function outside of the code space of the program </p>
<p >Handle some specific messages. Note that if we handle a message, we should return 0.</p>
<p >In the case the left mouse button was pressed, then display a message box.</p>
<p >In the case the escape key was pressed, then destroy the main application window.</p>
<p >In the case of a destroy message, then send a quit message, which will terminate the message loop.</p>
<p >Forward any other messages we did not handle above to the default window procedure. Note that our window procedure must return the return value of DefWindowProc.</p>

<p class="definition">Definition at line <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html#l00161">161</a> of file <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html">Week2-0-1-myfirstwin32.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab83be9929c1aaf9638ea2f4bff0dbe99" name="ab83be9929c1aaf9638ea2f4bff0dbe99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83be9929c1aaf9638ea2f4bff0dbe99">&#9670;&nbsp;</a></span>ghMainWnd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HWND ghMainWnd = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main window handle; this is used to identify a created window. </p>
<p >In Windows programming, we often use handles to refer to objects maintained internally by Windows. ghMainWnd is our main application window. </p>

<p class="definition">Definition at line <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html#l00020">20</a> of file <a class="el" href="_week2-0-1-myfirstwin32_8cpp_source.html">Week2-0-1-myfirstwin32.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_55802f389f10187e6332e22903ed7c9f.html">Week2</a></li><li class="navelem"><a class="el" href="dir_e5b9dc2f9bcd39803fc54904eff64c54.html">Week 2-0-myfirstwin32</a></li><li class="navelem"><a class="el" href="_week2-0-1-myfirstwin32_8cpp.html">Week2-0-1-myfirstwin32.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
