\doxysection{Skinned\+Data.\+h}
\label{_skinned_data_8h_source}\index{Week15/SkinnedMesh/SkinnedData.h@{Week15/SkinnedMesh/SkinnedData.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#ifndef SKINNEDDATA\_H}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#define SKINNEDDATA\_H}}
\DoxyCodeLine{00003 }
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#include "{}../../Common/d3dUtil.h"{}}}
\DoxyCodeLine{00005 \textcolor{preprocessor}{\#include "{}../../Common/MathHelper.h"{}}}
\DoxyCodeLine{00006 }
\DoxyCodeLine{00010 \textcolor{keyword}{struct }Keyframe}
\DoxyCodeLine{00011 \{}
\DoxyCodeLine{00012     Keyframe();}
\DoxyCodeLine{00013     \string~Keyframe();}
\DoxyCodeLine{00014 }
\DoxyCodeLine{00015     \textcolor{keywordtype}{float} TimePos;}
\DoxyCodeLine{00016     DirectX::XMFLOAT3 Translation;}
\DoxyCodeLine{00017     DirectX::XMFLOAT3 Scale;}
\DoxyCodeLine{00018     DirectX::XMFLOAT4 RotationQuat;}
\DoxyCodeLine{00019 \};}
\DoxyCodeLine{00020 }
\DoxyCodeLine{00028 \textcolor{keyword}{struct }BoneAnimation}
\DoxyCodeLine{00029 \{}
\DoxyCodeLine{00030     \textcolor{keywordtype}{float} GetStartTime()\textcolor{keyword}{const};}
\DoxyCodeLine{00031     \textcolor{keywordtype}{float} GetEndTime()\textcolor{keyword}{const};}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033     \textcolor{keywordtype}{void} Interpolate(\textcolor{keywordtype}{float} t, DirectX::XMFLOAT4X4\& M)\textcolor{keyword}{const};}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035     std::vector<Keyframe> Keyframes;   }
\DoxyCodeLine{00036 \};}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00043 \textcolor{keyword}{struct }AnimationClip}
\DoxyCodeLine{00044 \{}
\DoxyCodeLine{00045     \textcolor{keywordtype}{float} GetClipStartTime()\textcolor{keyword}{const};}
\DoxyCodeLine{00046     \textcolor{keywordtype}{float} GetClipEndTime()\textcolor{keyword}{const};}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048     \textcolor{keywordtype}{void} Interpolate(\textcolor{keywordtype}{float} t, std::vector<DirectX::XMFLOAT4X4>\& boneTransforms)\textcolor{keyword}{const};}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050     std::vector<BoneAnimation> BoneAnimations;    }
\DoxyCodeLine{00051 \};}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053 \textcolor{keyword}{class }SkinnedData}
\DoxyCodeLine{00054 \{}
\DoxyCodeLine{00055 \textcolor{keyword}{public}:}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     UINT BoneCount()\textcolor{keyword}{const};}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059     \textcolor{keywordtype}{float} GetClipStartTime(\textcolor{keyword}{const} std::string\& clipName)\textcolor{keyword}{const};}
\DoxyCodeLine{00060     \textcolor{keywordtype}{float} GetClipEndTime(\textcolor{keyword}{const} std::string\& clipName)\textcolor{keyword}{const};}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \textcolor{keywordtype}{void} Set(}
\DoxyCodeLine{00063         std::vector<int>\& boneHierarchy, }
\DoxyCodeLine{00064         std::vector<DirectX::XMFLOAT4X4>\& boneOffsets,}
\DoxyCodeLine{00065         std::unordered\_map<std::string, AnimationClip>\& animations);}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067      \textcolor{comment}{// In a real project, you'd want to cache the result if there was a chance}}
\DoxyCodeLine{00068      \textcolor{comment}{// that you were calling this several times with the same clipName at }}
\DoxyCodeLine{00069      \textcolor{comment}{// the same timePos.}}
\DoxyCodeLine{00070     \textcolor{keywordtype}{void} GetFinalTransforms(\textcolor{keyword}{const} std::string\& clipName, \textcolor{keywordtype}{float} timePos, }
\DoxyCodeLine{00071          std::vector<DirectX::XMFLOAT4X4>\& finalTransforms)\textcolor{keyword}{const};}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073 \textcolor{keyword}{private}:}
\DoxyCodeLine{00074     \textcolor{comment}{// Gives parentIndex of ith bone.}}
\DoxyCodeLine{00075     std::vector<int> mBoneHierarchy;}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077     std::vector<DirectX::XMFLOAT4X4> mBoneOffsets;}
\DoxyCodeLine{00078    }
\DoxyCodeLine{00079     std::unordered\_map<std::string, AnimationClip> mAnimations;}
\DoxyCodeLine{00080 \};}
\DoxyCodeLine{00081  }
\DoxyCodeLine{00082 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// SKINNEDDATA\_H}}

\end{DoxyCode}
