\doxysection{D3\+D12\+Hello\+Triangle.\+h}
\label{_d3_d12_hello_triangle_8h_source}\index{Week2/Week2-\/6-\/Hello Triangle/D3D12HelloTriangle.h@{Week2/Week2-\/6-\/Hello Triangle/D3D12HelloTriangle.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{//*********************************************************}}
\DoxyCodeLine{00002 \textcolor{comment}{//}}
\DoxyCodeLine{00003 \textcolor{comment}{// Copyright (c) Microsoft. All rights reserved.}}
\DoxyCodeLine{00004 \textcolor{comment}{// This code is licensed under the MIT License (MIT).}}
\DoxyCodeLine{00005 \textcolor{comment}{// THIS CODE IS PROVIDED *AS IS* WITHOUT WARRANTY OF}}
\DoxyCodeLine{00006 \textcolor{comment}{// ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING ANY}}
\DoxyCodeLine{00007 \textcolor{comment}{// IMPLIED WARRANTIES OF FITNESS FOR A PARTICULAR}}
\DoxyCodeLine{00008 \textcolor{comment}{// PURPOSE, MERCHANTABILITY, OR NON-\/INFRINGEMENT.}}
\DoxyCodeLine{00009 \textcolor{comment}{//}}
\DoxyCodeLine{00010 \textcolor{comment}{//*********************************************************}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#include "{}DXSample.h"{}}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016 \textcolor{keyword}{using namespace }DirectX;}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018 \textcolor{comment}{// Note that while ComPtr is used to manage the lifetime of resources on the CPU,}}
\DoxyCodeLine{00019 \textcolor{comment}{// it has no understanding of the lifetime of resources on the GPU. Apps must account}}
\DoxyCodeLine{00020 \textcolor{comment}{// for the GPU lifetime of resources to avoid destroying objects that may still be}}
\DoxyCodeLine{00021 \textcolor{comment}{// referenced by the GPU.}}
\DoxyCodeLine{00022 \textcolor{comment}{// An example of this can be found in the class method: OnDestroy().}}
\DoxyCodeLine{00023 \textcolor{keyword}{using} Microsoft::WRL::ComPtr;}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025 \textcolor{keyword}{class }D3D12HelloTriangle : \textcolor{keyword}{public} DXSample}
\DoxyCodeLine{00026 \{}
\DoxyCodeLine{00027 \textcolor{keyword}{public}:}
\DoxyCodeLine{00028     D3D12HelloTriangle(UINT width, UINT height, std::wstring name);}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnInit();}
\DoxyCodeLine{00031     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnUpdate();}
\DoxyCodeLine{00032     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnRender();}
\DoxyCodeLine{00033     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnDestroy();}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035 \textcolor{keyword}{private}:}
\DoxyCodeLine{00036     \textcolor{keyword}{static} \textcolor{keyword}{const} UINT FrameCount = 2;}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038     \textcolor{keyword}{struct }Vertex}
\DoxyCodeLine{00039     \{}
\DoxyCodeLine{00040         XMFLOAT3 position;}
\DoxyCodeLine{00041         XMFLOAT4 color;}
\DoxyCodeLine{00042     \};}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044     \textcolor{comment}{// Pipeline objects.}}
\DoxyCodeLine{00045     CD3DX12\_VIEWPORT m\_viewport;}
\DoxyCodeLine{00046     CD3DX12\_RECT m\_scissorRect;}
\DoxyCodeLine{00047     ComPtr<IDXGISwapChain3> m\_swapChain;}
\DoxyCodeLine{00048     ComPtr<ID3D12Device> m\_device;}
\DoxyCodeLine{00049     ComPtr<ID3D12Resource> m\_renderTargets[FrameCount];}
\DoxyCodeLine{00050     ComPtr<ID3D12CommandAllocator> m\_commandAllocator;}
\DoxyCodeLine{00051     ComPtr<ID3D12CommandQueue> m\_commandQueue;}
\DoxyCodeLine{00052     ComPtr<ID3D12RootSignature> m\_rootSignature;}
\DoxyCodeLine{00053     ComPtr<ID3D12DescriptorHeap> m\_rtvHeap;}
\DoxyCodeLine{00054     ComPtr<ID3D12PipelineState> m\_pipelineState;}
\DoxyCodeLine{00055     ComPtr<ID3D12GraphicsCommandList> m\_commandList; \textcolor{comment}{//note 3: the COM interface that represents a command list is called ID3D12GraphicsCommandList.}}
\DoxyCodeLine{00056     UINT m\_rtvDescriptorSize;}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058     \textcolor{comment}{// App resources.}}
\DoxyCodeLine{00059     ComPtr<ID3D12Resource> m\_vertexBuffer;}
\DoxyCodeLine{00060     D3D12\_VERTEX\_BUFFER\_VIEW m\_vertexBufferView;}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \textcolor{comment}{// Synchronization objects.}}
\DoxyCodeLine{00063     UINT m\_frameIndex;}
\DoxyCodeLine{00064     HANDLE m\_fenceEvent;}
\DoxyCodeLine{00065     ComPtr<ID3D12Fence> m\_fence;}
\DoxyCodeLine{00066     UINT64 m\_fenceValue;}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068     \textcolor{keywordtype}{void} LoadPipeline();}
\DoxyCodeLine{00069     \textcolor{keywordtype}{void} LoadAssets();}
\DoxyCodeLine{00070     \textcolor{keywordtype}{void} PopulateCommandList();}
\DoxyCodeLine{00071     \textcolor{keywordtype}{void} WaitForPreviousFrame();}
\DoxyCodeLine{00072 \};}

\end{DoxyCode}
