\hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source}{}\doxysection{DXSample\+Helper.\+h}
\label{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source}\index{Week2/Week2-\/6-\/Hello Triangle/DXSampleHelper.h@{Week2/Week2-\/6-\/Hello Triangle/DXSampleHelper.h}}
\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00001}00001 \textcolor{comment}{//*********************************************************}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00002}00002 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00003}00003 \textcolor{comment}{// Copyright (c) Microsoft. All rights reserved.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00004}00004 \textcolor{comment}{// This code is licensed under the MIT License (MIT).}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00005}00005 \textcolor{comment}{// THIS CODE IS PROVIDED *AS IS* WITHOUT WARRANTY OF}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00006}00006 \textcolor{comment}{// ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING ANY}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00007}00007 \textcolor{comment}{// IMPLIED WARRANTIES OF FITNESS FOR A PARTICULAR}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00008}00008 \textcolor{comment}{// PURPOSE, MERCHANTABILITY, OR NON-\/INFRINGEMENT.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00009}00009 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00010}00010 \textcolor{comment}{//*********************************************************}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00012}00012 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00013}00013 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00015}00015 \textcolor{comment}{// Note that while ComPtr is used to manage the lifetime of resources on the CPU,}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00016}00016 \textcolor{comment}{// it has no understanding of the lifetime of resources on the GPU. Apps must account}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00017}00017 \textcolor{comment}{// for the GPU lifetime of resources to avoid destroying objects that may still be}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00018}00018 \textcolor{comment}{// referenced by the GPU.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00019}00019 \textcolor{keyword}{using} Microsoft::WRL::ComPtr;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00021}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a79784b9e769dcf1bbcc16daeb0151da4}{00021}} \textcolor{keyword}{inline} std::string \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a79784b9e769dcf1bbcc16daeb0151da4}{HrToString}}(HRESULT hr)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00022}00022 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00023}00023     \textcolor{keywordtype}{char} s\_str[64] = \{\};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00024}00024     sprintf\_s(s\_str, \textcolor{stringliteral}{"{}HRESULT of 0x\%08X"{}}, \textcolor{keyword}{static\_cast<}UINT\textcolor{keyword}{>}(hr));}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00025}00025     \textcolor{keywordflow}{return} std::string(s\_str);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00026}00026 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00028}\mbox{\hyperlink{class_hr_exception}{00028}} \textcolor{keyword}{class }\mbox{\hyperlink{class_hr_exception}{HrException}} : \textcolor{keyword}{public} std::runtime\_error}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00029}00029 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00030}00030 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00031}\mbox{\hyperlink{class_hr_exception_afefc960e3f753dfb6ec826cd4b6a3a25}{00031}}     \mbox{\hyperlink{class_hr_exception_afefc960e3f753dfb6ec826cd4b6a3a25}{HrException}}(HRESULT hr) : std::runtime\_error(\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a79784b9e769dcf1bbcc16daeb0151da4}{HrToString}}(hr)), \mbox{\hyperlink{class_hr_exception_ad8f82ad95efc96a65e61b0551ab70ab1}{m\_hr}}(hr) \{\}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00032}\mbox{\hyperlink{class_hr_exception_a0315e6363bb1b9b718a9a06434eb63ab}{00032}}     HRESULT \mbox{\hyperlink{class_hr_exception_a0315e6363bb1b9b718a9a06434eb63ab}{Error}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_hr_exception_ad8f82ad95efc96a65e61b0551ab70ab1}{m\_hr}}; \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00033}00033 \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00034}\mbox{\hyperlink{class_hr_exception_ad8f82ad95efc96a65e61b0551ab70ab1}{00034}}     \textcolor{keyword}{const} HRESULT \mbox{\hyperlink{class_hr_exception_ad8f82ad95efc96a65e61b0551ab70ab1}{m\_hr}};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00035}00035 \};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00037}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a6038f7bdb274c2e159988a57dedbf93d}{00037}} \textcolor{preprocessor}{\#define SAFE\_RELEASE(p) if (p) (p)-\/>Release()}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00039}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aec54dbc68fc3c5a426bd408e7c378aa9}{00039}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aec54dbc68fc3c5a426bd408e7c378aa9}{ThrowIfFailed}}(HRESULT hr)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00040}00040 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00041}00041     \textcolor{keywordflow}{if} (FAILED(hr))}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00042}00042     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00043}00043         \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_hr_exception}{HrException}}(hr);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00044}00044     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00045}00045 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00047}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa69372c36ad00903033ece932a927208}{00047}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa69372c36ad00903033ece932a927208}{GetAssetsPath}}(\_Out\_writes\_(pathSize) WCHAR* path, UINT pathSize)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00048}00048 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00049}00049     \textcolor{keywordflow}{if} (path == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00050}00050     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00051}00051         \textcolor{keywordflow}{throw} std::exception();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00052}00052     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00054}00054     DWORD size = GetModuleFileName(\textcolor{keyword}{nullptr}, path, pathSize);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00055}00055     \textcolor{keywordflow}{if} (size == 0 || size == pathSize)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00056}00056     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00057}00057         \textcolor{comment}{// Method failed or path was truncated.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00058}00058         \textcolor{keywordflow}{throw} std::exception();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00059}00059     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00061}00061     WCHAR* lastSlash = wcsrchr(path, L\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00062}00062     \textcolor{keywordflow}{if} (lastSlash)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00063}00063     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00064}00064         *(lastSlash + 1) = L\textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00065}00065     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00066}00066 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00068}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a7a0cc83f5d537f89aea28d468b96d397}{00068}} \textcolor{keyword}{inline} HRESULT \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a7a0cc83f5d537f89aea28d468b96d397}{ReadDataFromFile}}(LPCWSTR filename, \textcolor{keywordtype}{byte}** data, UINT* size)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00069}00069 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00070}00070     \textcolor{keyword}{using namespace }Microsoft::WRL;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00072}00072     CREATEFILE2\_EXTENDED\_PARAMETERS extendedParams = \{\};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00073}00073     extendedParams.dwSize = \textcolor{keyword}{sizeof}(CREATEFILE2\_EXTENDED\_PARAMETERS);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00074}00074     extendedParams.dwFileAttributes = FILE\_ATTRIBUTE\_NORMAL;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00075}00075     extendedParams.dwFileFlags = FILE\_FLAG\_SEQUENTIAL\_SCAN;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00076}00076     extendedParams.dwSecurityQosFlags = SECURITY\_ANONYMOUS;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00077}00077     extendedParams.lpSecurityAttributes = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00078}00078     extendedParams.hTemplateFile = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00080}00080     Wrappers::FileHandle file(CreateFile2(filename, GENERIC\_READ, FILE\_SHARE\_READ, OPEN\_EXISTING, \&extendedParams));}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00081}00081     \textcolor{keywordflow}{if} (file.Get() == INVALID\_HANDLE\_VALUE)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00082}00082     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00083}00083         \textcolor{keywordflow}{throw} std::exception();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00084}00084     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00086}00086     FILE\_STANDARD\_INFO fileInfo = \{\};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00087}00087     \textcolor{keywordflow}{if} (!GetFileInformationByHandleEx(file.Get(), FileStandardInfo, \&fileInfo, \textcolor{keyword}{sizeof}(fileInfo)))}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00088}00088     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00089}00089         \textcolor{keywordflow}{throw} std::exception();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00090}00090     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00092}00092     \textcolor{keywordflow}{if} (fileInfo.EndOfFile.HighPart != 0)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00093}00093     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00094}00094         \textcolor{keywordflow}{throw} std::exception();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00095}00095     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00096}00096 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00097}00097     *data = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{byte}*\textcolor{keyword}{>}(malloc(fileInfo.EndOfFile.LowPart));}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00098}00098     *size = fileInfo.EndOfFile.LowPart;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00100}00100     \textcolor{keywordflow}{if} (!ReadFile(file.Get(), *data, fileInfo.EndOfFile.LowPart, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}))}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00101}00101     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00102}00102         \textcolor{keywordflow}{throw} std::exception();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00103}00103     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00105}00105     \textcolor{keywordflow}{return} S\_OK;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00106}00106 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00108}00108 \textcolor{comment}{// Assign a name to the object to aid with debugging.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00109}00109 \textcolor{preprocessor}{\#if defined(\_DEBUG) || defined(DBG)}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00110}00110 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa5dddf90697632b7571cbb845d61cb6a}{SetName}}(ID3D12Object* pObject, LPCWSTR name)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00111}00111 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00112}00112     pObject-\/>SetName(name);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00113}00113 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00114}00114 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a6b58ce7b0f70e2cb08c96669fba3b70b}{SetNameIndexed}}(ID3D12Object* pObject, LPCWSTR name, UINT index)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00115}00115 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00116}00116     WCHAR fullName[50];}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00117}00117     \textcolor{keywordflow}{if} (swprintf\_s(fullName, L\textcolor{stringliteral}{"{}\%s[\%u]"{}}, name, index) > 0)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00118}00118     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00119}00119         pObject-\/>SetName(fullName);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00120}00120     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00121}00121 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00122}00122 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00123}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa5dddf90697632b7571cbb845d61cb6a}{00123}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa5dddf90697632b7571cbb845d61cb6a}{SetName}}(ID3D12Object*, LPCWSTR)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00124}00124 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00125}00125 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00126}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a6b58ce7b0f70e2cb08c96669fba3b70b}{00126}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a6b58ce7b0f70e2cb08c96669fba3b70b}{SetNameIndexed}}(ID3D12Object*, LPCWSTR, UINT)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00127}00127 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00128}00128 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00129}00129 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00131}00131 \textcolor{comment}{// Naming helper for ComPtr<T>.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00132}00132 \textcolor{comment}{// Assigns the name of the variable as the name of the object.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00133}00133 \textcolor{comment}{// The indexed variant will include the index in the name of the object.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00134}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aac0bf77e771c5756a028295b6400839f}{00134}} \textcolor{preprocessor}{\#define NAME\_D3D12\_OBJECT(x) SetName((x).Get(), L\#x)}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00135}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a79a58dc06babec29638083e2d6cab28a}{00135}} \textcolor{preprocessor}{\#define NAME\_D3D12\_OBJECT\_INDEXED(x, n) SetNameIndexed((x)[n].Get(), L\#x, n)}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00137}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a479b083e5915783f2461adf337a0cd59}{00137}} \textcolor{keyword}{inline} UINT \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_a479b083e5915783f2461adf337a0cd59}{CalculateConstantBufferByteSize}}(UINT byteSize)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00138}00138 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00139}00139     \textcolor{comment}{// Constant buffer size is required to be aligned.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00140}00140     \textcolor{keywordflow}{return} (byteSize + (D3D12\_CONSTANT\_BUFFER\_DATA\_PLACEMENT\_ALIGNMENT -\/ 1)) \& \string~(D3D12\_CONSTANT\_BUFFER\_DATA\_PLACEMENT\_ALIGNMENT -\/ 1);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00141}00141 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00143}00143 \textcolor{preprocessor}{\#ifdef D3D\_COMPILE\_STANDARD\_FILE\_INCLUDE}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00144}00144 \textcolor{keyword}{inline} Microsoft::WRL::ComPtr<ID3DBlob> CompileShader(}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00145}00145     \textcolor{keyword}{const} std::wstring\& filename,}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00146}00146     \textcolor{keyword}{const} D3D\_SHADER\_MACRO* defines,}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00147}00147     \textcolor{keyword}{const} std::string\& entrypoint,}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00148}00148     \textcolor{keyword}{const} std::string\& target)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00149}00149 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00150}00150     UINT compileFlags = 0;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00151}00151 \textcolor{preprocessor}{\#if defined(\_DEBUG) || defined(DBG)}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00152}00152     compileFlags = D3DCOMPILE\_DEBUG | D3DCOMPILE\_SKIP\_OPTIMIZATION;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00153}00153 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00155}00155     HRESULT hr;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00156}00156 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00157}00157     Microsoft::WRL::ComPtr<ID3DBlob> byteCode = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00158}00158     Microsoft::WRL::ComPtr<ID3DBlob> errors;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00159}00159     hr = D3DCompileFromFile(filename.c\_str(), defines, D3D\_COMPILE\_STANDARD\_FILE\_INCLUDE,}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00160}00160         entrypoint.c\_str(), target.c\_str(), compileFlags, 0, \&byteCode, \&errors);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00162}00162     \textcolor{keywordflow}{if} (errors != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00163}00163     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00164}00164         OutputDebugStringA((\textcolor{keywordtype}{char}*)errors-\/>GetBufferPointer());}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00165}00165     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00166}00166     \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aec54dbc68fc3c5a426bd408e7c378aa9}{ThrowIfFailed}}(hr);}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00168}00168     \textcolor{keywordflow}{return} byteCode;}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00169}00169 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00170}00170 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00171}00171 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00172}00172 \textcolor{comment}{// Resets all elements in a ComPtr array.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00173}00173 \textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00174}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa1d735bec660ac038b6e28dc2c4828b9}{00174}} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_aa1d735bec660ac038b6e28dc2c4828b9}{ResetComPtrArray}}(T* comPtrArray)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00175}00175 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00176}00176     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&i : *comPtrArray)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00177}00177     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00178}00178         i.Reset();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00179}00179     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00180}00180 \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00181}00181 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00183}00183 \textcolor{comment}{// Resets all elements in a unique\_ptr array.}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00184}00184 \textcolor{keyword}{template}<\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00185}\mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_ae28d6935017db59a5da4db9134ce5670}{00185}} \textcolor{keywordtype}{void} \mbox{\hyperlink{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_ae28d6935017db59a5da4db9134ce5670}{ResetUniquePtrArray}}(T* uniquePtrArray)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00186}00186 \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00187}00187     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&i : *uniquePtrArray)}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00188}00188     \{}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00189}00189         i.reset();}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00190}00190     \}}
\DoxyCodeLine{\Hypertarget{_week2-6-_hello_01_triangle_2_d_x_sample_helper_8h_source_l00191}00191 \}}

\end{DoxyCode}
