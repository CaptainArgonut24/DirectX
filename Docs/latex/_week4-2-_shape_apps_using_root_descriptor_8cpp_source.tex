\doxysection{Week4-\/2-\/\+Shape\+Apps\+Using\+Root\+Descriptor.cpp}
\label{_week4-2-_shape_apps_using_root_descriptor_8cpp_source}\index{Week4/Shapes/Week4-\/2-\/ShapeAppsUsingRootDescriptor.cpp@{Week4/Shapes/Week4-\/2-\/ShapeAppsUsingRootDescriptor.cpp}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00015 \textcolor{comment}{//}}
\DoxyCodeLine{00016 \textcolor{comment}{//}}
\DoxyCodeLine{00017 \textcolor{comment}{//}}
\DoxyCodeLine{00018 \textcolor{comment}{//\#include "{}../../Common/d3dApp.h"{}}}
\DoxyCodeLine{00019 \textcolor{comment}{//\#include "{}../../Common/MathHelper.h"{}}}
\DoxyCodeLine{00020 \textcolor{comment}{//\#include "{}../../Common/UploadBuffer.h"{}}}
\DoxyCodeLine{00021 \textcolor{comment}{//\#include "{}../../Common/GeometryGenerator.h"{}}}
\DoxyCodeLine{00022 \textcolor{comment}{//\#include "{}FrameResource.h"{}}}
\DoxyCodeLine{00023 \textcolor{comment}{//}}
\DoxyCodeLine{00024 \textcolor{comment}{//}}
\DoxyCodeLine{00025 \textcolor{comment}{//using Microsoft::WRL::ComPtr;}}
\DoxyCodeLine{00026 \textcolor{comment}{//}}
\DoxyCodeLine{00027 \textcolor{comment}{//using namespace DirectX;}}
\DoxyCodeLine{00028 \textcolor{comment}{//}}
\DoxyCodeLine{00029 \textcolor{comment}{//using namespace DirectX::PackedVector;}}
\DoxyCodeLine{00030 \textcolor{comment}{//}}
\DoxyCodeLine{00031 \textcolor{comment}{//}}
\DoxyCodeLine{00032 \textcolor{comment}{//}}
\DoxyCodeLine{00033 \textcolor{comment}{//const int gNumFrameResources = 3;}}
\DoxyCodeLine{00034 \textcolor{comment}{//}}
\DoxyCodeLine{00035 \textcolor{comment}{//}}
\DoxyCodeLine{00036 \textcolor{comment}{//}}
\DoxyCodeLine{00038 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{00040 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{00041 \textcolor{comment}{//struct RenderItem}}
\DoxyCodeLine{00042 \textcolor{comment}{//}}
\DoxyCodeLine{00043 \textcolor{comment}{//\{}}
\DoxyCodeLine{00044 \textcolor{comment}{//}}
\DoxyCodeLine{00045 \textcolor{comment}{//  RenderItem() = default;}}
\DoxyCodeLine{00046 \textcolor{comment}{//}}
\DoxyCodeLine{00047 \textcolor{comment}{//}}
\DoxyCodeLine{00048 \textcolor{comment}{//}}
\DoxyCodeLine{00049 \textcolor{comment}{//  // World matrix of the shape that describes the object's local space}}
\DoxyCodeLine{00050 \textcolor{comment}{//}}
\DoxyCodeLine{00051 \textcolor{comment}{//  // relative to the world space, which defines the position, orientation,}}
\DoxyCodeLine{00052 \textcolor{comment}{//}}
\DoxyCodeLine{00053 \textcolor{comment}{//  // and scale of the object in the world.}}
\DoxyCodeLine{00054 \textcolor{comment}{//}}
\DoxyCodeLine{00055 \textcolor{comment}{//  XMFLOAT4X4 World = MathHelper::Identity4x4();}}
\DoxyCodeLine{00056 \textcolor{comment}{//}}
\DoxyCodeLine{00057 \textcolor{comment}{//}}
\DoxyCodeLine{00058 \textcolor{comment}{//}}
\DoxyCodeLine{00059 \textcolor{comment}{//  // Dirty flag indicating the object data has changed and we need to update the constant buffer.}}
\DoxyCodeLine{00060 \textcolor{comment}{//}}
\DoxyCodeLine{00061 \textcolor{comment}{//  // Because we have an object cbuffer for each FrameResource, we have to apply the}}
\DoxyCodeLine{00062 \textcolor{comment}{//}}
\DoxyCodeLine{00063 \textcolor{comment}{//  // update to each FrameResource.  Thus, when we modify obect data we should set}}
\DoxyCodeLine{00064 \textcolor{comment}{//}}
\DoxyCodeLine{00065 \textcolor{comment}{//  // NumFramesDirty = gNumFrameResources so that each frame resource gets the update.}}
\DoxyCodeLine{00066 \textcolor{comment}{//}}
\DoxyCodeLine{00067 \textcolor{comment}{//  int NumFramesDirty = gNumFrameResources;}}
\DoxyCodeLine{00068 \textcolor{comment}{//}}
\DoxyCodeLine{00069 \textcolor{comment}{//}}
\DoxyCodeLine{00070 \textcolor{comment}{//}}
\DoxyCodeLine{00071 \textcolor{comment}{//  // Index into GPU constant buffer corresponding to the ObjectCB for this render item.}}
\DoxyCodeLine{00072 \textcolor{comment}{//}}
\DoxyCodeLine{00073 \textcolor{comment}{//  UINT ObjCBIndex = -\/1;}}
\DoxyCodeLine{00074 \textcolor{comment}{//}}
\DoxyCodeLine{00075 \textcolor{comment}{//}}
\DoxyCodeLine{00076 \textcolor{comment}{//}}
\DoxyCodeLine{00077 \textcolor{comment}{//  MeshGeometry* Geo = nullptr;}}
\DoxyCodeLine{00078 \textcolor{comment}{//}}
\DoxyCodeLine{00079 \textcolor{comment}{//}}
\DoxyCodeLine{00080 \textcolor{comment}{//}}
\DoxyCodeLine{00081 \textcolor{comment}{//  // Primitive topology.}}
\DoxyCodeLine{00082 \textcolor{comment}{//}}
\DoxyCodeLine{00083 \textcolor{comment}{//  D3D12\_PRIMITIVE\_TOPOLOGY PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{00084 \textcolor{comment}{//}}
\DoxyCodeLine{00085 \textcolor{comment}{//}}
\DoxyCodeLine{00086 \textcolor{comment}{//}}
\DoxyCodeLine{00087 \textcolor{comment}{//  // DrawIndexedInstanced parameters.}}
\DoxyCodeLine{00088 \textcolor{comment}{//}}
\DoxyCodeLine{00089 \textcolor{comment}{//  UINT IndexCount = 0;}}
\DoxyCodeLine{00090 \textcolor{comment}{//}}
\DoxyCodeLine{00091 \textcolor{comment}{//  UINT StartIndexLocation = 0;}}
\DoxyCodeLine{00092 \textcolor{comment}{//}}
\DoxyCodeLine{00093 \textcolor{comment}{//  int BaseVertexLocation = 0;}}
\DoxyCodeLine{00094 \textcolor{comment}{//}}
\DoxyCodeLine{00095 \textcolor{comment}{//\};}}
\DoxyCodeLine{00096 \textcolor{comment}{//}}
\DoxyCodeLine{00097 \textcolor{comment}{//}}
\DoxyCodeLine{00098 \textcolor{comment}{//}}
\DoxyCodeLine{00099 \textcolor{comment}{//class ShapesApp : public D3DApp}}
\DoxyCodeLine{00100 \textcolor{comment}{//}}
\DoxyCodeLine{00101 \textcolor{comment}{//\{}}
\DoxyCodeLine{00102 \textcolor{comment}{//}}
\DoxyCodeLine{00103 \textcolor{comment}{//public:}}
\DoxyCodeLine{00104 \textcolor{comment}{//}}
\DoxyCodeLine{00105 \textcolor{comment}{//  ShapesApp(HINSTANCE hInstance);}}
\DoxyCodeLine{00106 \textcolor{comment}{//}}
\DoxyCodeLine{00107 \textcolor{comment}{//  ShapesApp(const ShapesApp\& rhs) = delete;}}
\DoxyCodeLine{00108 \textcolor{comment}{//}}
\DoxyCodeLine{00109 \textcolor{comment}{//  ShapesApp\& operator=(const ShapesApp\& rhs) = delete;}}
\DoxyCodeLine{00110 \textcolor{comment}{//}}
\DoxyCodeLine{00111 \textcolor{comment}{//  \string~ShapesApp();}}
\DoxyCodeLine{00112 \textcolor{comment}{//}}
\DoxyCodeLine{00113 \textcolor{comment}{//}}
\DoxyCodeLine{00114 \textcolor{comment}{//}}
\DoxyCodeLine{00115 \textcolor{comment}{//  virtual bool Initialize()override;}}
\DoxyCodeLine{00116 \textcolor{comment}{//}}
\DoxyCodeLine{00117 \textcolor{comment}{//}}
\DoxyCodeLine{00118 \textcolor{comment}{//}}
\DoxyCodeLine{00119 \textcolor{comment}{//private:}}
\DoxyCodeLine{00120 \textcolor{comment}{//}}
\DoxyCodeLine{00121 \textcolor{comment}{//  virtual void OnResize()override;}}
\DoxyCodeLine{00122 \textcolor{comment}{//}}
\DoxyCodeLine{00123 \textcolor{comment}{//  virtual void Update(const GameTimer\& gt)override;}}
\DoxyCodeLine{00124 \textcolor{comment}{//}}
\DoxyCodeLine{00125 \textcolor{comment}{//  virtual void Draw(const GameTimer\& gt)override;}}
\DoxyCodeLine{00126 \textcolor{comment}{//}}
\DoxyCodeLine{00127 \textcolor{comment}{//}}
\DoxyCodeLine{00128 \textcolor{comment}{//}}
\DoxyCodeLine{00129 \textcolor{comment}{//  virtual void OnMouseDown(WPARAM btnState, int x, int y)override;}}
\DoxyCodeLine{00130 \textcolor{comment}{//}}
\DoxyCodeLine{00131 \textcolor{comment}{//  virtual void OnMouseUp(WPARAM btnState, int x, int y)override;}}
\DoxyCodeLine{00132 \textcolor{comment}{//}}
\DoxyCodeLine{00133 \textcolor{comment}{//  virtual void OnMouseMove(WPARAM btnState, int x, int y)override;}}
\DoxyCodeLine{00134 \textcolor{comment}{//}}
\DoxyCodeLine{00135 \textcolor{comment}{//}}
\DoxyCodeLine{00136 \textcolor{comment}{//}}
\DoxyCodeLine{00137 \textcolor{comment}{//  void OnKeyboardInput(const GameTimer\& gt);}}
\DoxyCodeLine{00138 \textcolor{comment}{//}}
\DoxyCodeLine{00139 \textcolor{comment}{//  void UpdateCamera(const GameTimer\& gt);}}
\DoxyCodeLine{00140 \textcolor{comment}{//}}
\DoxyCodeLine{00141 \textcolor{comment}{//  void UpdateObjectCBs(const GameTimer\& gt);}}
\DoxyCodeLine{00142 \textcolor{comment}{//}}
\DoxyCodeLine{00143 \textcolor{comment}{//  void UpdateMainPassCB(const GameTimer\& gt);}}
\DoxyCodeLine{00144 \textcolor{comment}{//}}
\DoxyCodeLine{00145 \textcolor{comment}{//}}
\DoxyCodeLine{00146 \textcolor{comment}{//}}
\DoxyCodeLine{00147 \textcolor{comment}{//  void BuildDescriptorHeaps();}}
\DoxyCodeLine{00148 \textcolor{comment}{//}}
\DoxyCodeLine{00149 \textcolor{comment}{//  void BuildConstantBufferViews();}}
\DoxyCodeLine{00150 \textcolor{comment}{//}}
\DoxyCodeLine{00151 \textcolor{comment}{//  void BuildRootSignature();}}
\DoxyCodeLine{00152 \textcolor{comment}{//}}
\DoxyCodeLine{00153 \textcolor{comment}{//  void BuildShadersAndInputLayout();}}
\DoxyCodeLine{00154 \textcolor{comment}{//}}
\DoxyCodeLine{00155 \textcolor{comment}{//  void BuildShapeGeometry();}}
\DoxyCodeLine{00156 \textcolor{comment}{//}}
\DoxyCodeLine{00157 \textcolor{comment}{//  void BuildPSOs();}}
\DoxyCodeLine{00158 \textcolor{comment}{//}}
\DoxyCodeLine{00159 \textcolor{comment}{//  void BuildFrameResources();}}
\DoxyCodeLine{00160 \textcolor{comment}{//}}
\DoxyCodeLine{00161 \textcolor{comment}{//  void BuildRenderItems();}}
\DoxyCodeLine{00162 \textcolor{comment}{//}}
\DoxyCodeLine{00163 \textcolor{comment}{//  void DrawRenderItems(ID3D12GraphicsCommandList* cmdList, const std::vector<RenderItem*>\& ritems);}}
\DoxyCodeLine{00164 \textcolor{comment}{//}}
\DoxyCodeLine{00165 \textcolor{comment}{//}}
\DoxyCodeLine{00166 \textcolor{comment}{//}}
\DoxyCodeLine{00167 \textcolor{comment}{//private:}}
\DoxyCodeLine{00168 \textcolor{comment}{//}}
\DoxyCodeLine{00169 \textcolor{comment}{//}}
\DoxyCodeLine{00170 \textcolor{comment}{//}}
\DoxyCodeLine{00171 \textcolor{comment}{//  std::vector<std::unique\_ptr<FrameResource>> mFrameResources;}}
\DoxyCodeLine{00172 \textcolor{comment}{//}}
\DoxyCodeLine{00173 \textcolor{comment}{//  FrameResource* mCurrFrameResource = nullptr;}}
\DoxyCodeLine{00174 \textcolor{comment}{//}}
\DoxyCodeLine{00175 \textcolor{comment}{//  int mCurrFrameResourceIndex = 0;}}
\DoxyCodeLine{00176 \textcolor{comment}{//}}
\DoxyCodeLine{00177 \textcolor{comment}{//}}
\DoxyCodeLine{00178 \textcolor{comment}{//}}
\DoxyCodeLine{00179 \textcolor{comment}{//  ComPtr<ID3D12RootSignature> mRootSignature = nullptr;}}
\DoxyCodeLine{00180 \textcolor{comment}{//}}
\DoxyCodeLine{00181 \textcolor{comment}{//  ComPtr<ID3D12DescriptorHeap> mCbvHeap = nullptr;}}
\DoxyCodeLine{00182 \textcolor{comment}{//}}
\DoxyCodeLine{00183 \textcolor{comment}{//}}
\DoxyCodeLine{00184 \textcolor{comment}{//}}
\DoxyCodeLine{00185 \textcolor{comment}{//  ComPtr<ID3D12DescriptorHeap> mSrvDescriptorHeap = nullptr;}}
\DoxyCodeLine{00186 \textcolor{comment}{//}}
\DoxyCodeLine{00187 \textcolor{comment}{//}}
\DoxyCodeLine{00188 \textcolor{comment}{//}}
\DoxyCodeLine{00189 \textcolor{comment}{//  std::unordered\_map<std::string, std::unique\_ptr<MeshGeometry>> mGeometries;}}
\DoxyCodeLine{00190 \textcolor{comment}{//}}
\DoxyCodeLine{00191 \textcolor{comment}{//  std::unordered\_map<std::string, ComPtr<ID3DBlob>> mShaders;}}
\DoxyCodeLine{00192 \textcolor{comment}{//}}
\DoxyCodeLine{00193 \textcolor{comment}{//  std::unordered\_map<std::string, ComPtr<ID3D12PipelineState>> mPSOs;}}
\DoxyCodeLine{00194 \textcolor{comment}{//}}
\DoxyCodeLine{00195 \textcolor{comment}{//}}
\DoxyCodeLine{00196 \textcolor{comment}{//}}
\DoxyCodeLine{00197 \textcolor{comment}{//  std::vector<D3D12\_INPUT\_ELEMENT\_DESC> mInputLayout;}}
\DoxyCodeLine{00198 \textcolor{comment}{//}}
\DoxyCodeLine{00199 \textcolor{comment}{//}}
\DoxyCodeLine{00200 \textcolor{comment}{//}}
\DoxyCodeLine{00201 \textcolor{comment}{//  // List of all the render items.}}
\DoxyCodeLine{00202 \textcolor{comment}{//}}
\DoxyCodeLine{00203 \textcolor{comment}{//  std::vector<std::unique\_ptr<RenderItem>> mAllRitems;}}
\DoxyCodeLine{00204 \textcolor{comment}{//}}
\DoxyCodeLine{00205 \textcolor{comment}{//}}
\DoxyCodeLine{00206 \textcolor{comment}{//}}
\DoxyCodeLine{00207 \textcolor{comment}{//  // Render items divided by PSO.}}
\DoxyCodeLine{00208 \textcolor{comment}{//}}
\DoxyCodeLine{00209 \textcolor{comment}{//  std::vector<RenderItem*> mOpaqueRitems;}}
\DoxyCodeLine{00210 \textcolor{comment}{//}}
\DoxyCodeLine{00211 \textcolor{comment}{//}}
\DoxyCodeLine{00212 \textcolor{comment}{//}}
\DoxyCodeLine{00213 \textcolor{comment}{//  PassConstants mMainPassCB;}}
\DoxyCodeLine{00214 \textcolor{comment}{//}}
\DoxyCodeLine{00215 \textcolor{comment}{//}}
\DoxyCodeLine{00216 \textcolor{comment}{//}}
\DoxyCodeLine{00217 \textcolor{comment}{//  UINT mPassCbvOffset = 0;}}
\DoxyCodeLine{00218 \textcolor{comment}{//}}
\DoxyCodeLine{00219 \textcolor{comment}{//}}
\DoxyCodeLine{00220 \textcolor{comment}{//}}
\DoxyCodeLine{00221 \textcolor{comment}{//  bool mIsWireframe = false;}}
\DoxyCodeLine{00222 \textcolor{comment}{//}}
\DoxyCodeLine{00223 \textcolor{comment}{//}}
\DoxyCodeLine{00224 \textcolor{comment}{//}}
\DoxyCodeLine{00225 \textcolor{comment}{//  XMFLOAT3 mEyePos = \{ 0.0f, 0.0f, 0.0f \};}}
\DoxyCodeLine{00226 \textcolor{comment}{//}}
\DoxyCodeLine{00227 \textcolor{comment}{//  XMFLOAT4X4 mView = MathHelper::Identity4x4();}}
\DoxyCodeLine{00228 \textcolor{comment}{//}}
\DoxyCodeLine{00229 \textcolor{comment}{//  XMFLOAT4X4 mProj = MathHelper::Identity4x4();}}
\DoxyCodeLine{00230 \textcolor{comment}{//}}
\DoxyCodeLine{00231 \textcolor{comment}{//}}
\DoxyCodeLine{00232 \textcolor{comment}{//}}
\DoxyCodeLine{00233 \textcolor{comment}{//  float mTheta = 1.5f * XM\_PI;}}
\DoxyCodeLine{00234 \textcolor{comment}{//}}
\DoxyCodeLine{00235 \textcolor{comment}{//  float mPhi = 0.2f * XM\_PI;}}
\DoxyCodeLine{00236 \textcolor{comment}{//}}
\DoxyCodeLine{00237 \textcolor{comment}{//  float mRadius = 15.0f;}}
\DoxyCodeLine{00238 \textcolor{comment}{//}}
\DoxyCodeLine{00239 \textcolor{comment}{//}}
\DoxyCodeLine{00240 \textcolor{comment}{//}}
\DoxyCodeLine{00241 \textcolor{comment}{//  POINT mLastMousePos;}}
\DoxyCodeLine{00242 \textcolor{comment}{//}}
\DoxyCodeLine{00243 \textcolor{comment}{//\};}}
\DoxyCodeLine{00244 \textcolor{comment}{//}}
\DoxyCodeLine{00245 \textcolor{comment}{//}}
\DoxyCodeLine{00246 \textcolor{comment}{//}}
\DoxyCodeLine{00247 \textcolor{comment}{//int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE prevInstance,}}
\DoxyCodeLine{00248 \textcolor{comment}{//}}
\DoxyCodeLine{00249 \textcolor{comment}{//  PSTR cmdLine, int showCmd)}}
\DoxyCodeLine{00250 \textcolor{comment}{//}}
\DoxyCodeLine{00251 \textcolor{comment}{//\{}}
\DoxyCodeLine{00252 \textcolor{comment}{//}}
\DoxyCodeLine{00253 \textcolor{comment}{//  // Enable run-\/time memory check for debug builds.}}
\DoxyCodeLine{00254 \textcolor{comment}{//}}
\DoxyCodeLine{00255 \textcolor{comment}{//\#if defined(DEBUG) | defined(\_DEBUG)}}
\DoxyCodeLine{00256 \textcolor{comment}{//}}
\DoxyCodeLine{00257 \textcolor{comment}{//  \_CrtSetDbgFlag(\_CRTDBG\_ALLOC\_MEM\_DF | \_CRTDBG\_LEAK\_CHECK\_DF);}}
\DoxyCodeLine{00258 \textcolor{comment}{//}}
\DoxyCodeLine{00259 \textcolor{comment}{//\#endif}}
\DoxyCodeLine{00260 \textcolor{comment}{//}}
\DoxyCodeLine{00261 \textcolor{comment}{//}}
\DoxyCodeLine{00262 \textcolor{comment}{//}}
\DoxyCodeLine{00263 \textcolor{comment}{//  try}}
\DoxyCodeLine{00264 \textcolor{comment}{//}}
\DoxyCodeLine{00265 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00266 \textcolor{comment}{//}}
\DoxyCodeLine{00267 \textcolor{comment}{//      ShapesApp theApp(hInstance);}}
\DoxyCodeLine{00268 \textcolor{comment}{//}}
\DoxyCodeLine{00269 \textcolor{comment}{//      if (!theApp.Initialize())}}
\DoxyCodeLine{00270 \textcolor{comment}{//}}
\DoxyCodeLine{00271 \textcolor{comment}{//          return 0;}}
\DoxyCodeLine{00272 \textcolor{comment}{//}}
\DoxyCodeLine{00273 \textcolor{comment}{//}}
\DoxyCodeLine{00274 \textcolor{comment}{//}}
\DoxyCodeLine{00275 \textcolor{comment}{//      return theApp.Run();}}
\DoxyCodeLine{00276 \textcolor{comment}{//}}
\DoxyCodeLine{00277 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00278 \textcolor{comment}{//}}
\DoxyCodeLine{00279 \textcolor{comment}{//  catch (DxException\& e)}}
\DoxyCodeLine{00280 \textcolor{comment}{//}}
\DoxyCodeLine{00281 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00282 \textcolor{comment}{//}}
\DoxyCodeLine{00283 \textcolor{comment}{//      MessageBox(nullptr, e.ToString().c\_str(), L"{}HR Failed"{}, MB\_OK);}}
\DoxyCodeLine{00284 \textcolor{comment}{//}}
\DoxyCodeLine{00285 \textcolor{comment}{//      return 0;}}
\DoxyCodeLine{00286 \textcolor{comment}{//}}
\DoxyCodeLine{00287 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00288 \textcolor{comment}{//}}
\DoxyCodeLine{00289 \textcolor{comment}{//\}}}
\DoxyCodeLine{00290 \textcolor{comment}{//}}
\DoxyCodeLine{00291 \textcolor{comment}{//}}
\DoxyCodeLine{00292 \textcolor{comment}{//}}
\DoxyCodeLine{00293 \textcolor{comment}{//ShapesApp::ShapesApp(HINSTANCE hInstance)}}
\DoxyCodeLine{00294 \textcolor{comment}{//}}
\DoxyCodeLine{00295 \textcolor{comment}{//  : D3DApp(hInstance)}}
\DoxyCodeLine{00296 \textcolor{comment}{//}}
\DoxyCodeLine{00297 \textcolor{comment}{//\{}}
\DoxyCodeLine{00298 \textcolor{comment}{//}}
\DoxyCodeLine{00299 \textcolor{comment}{//\}}}
\DoxyCodeLine{00300 \textcolor{comment}{//}}
\DoxyCodeLine{00301 \textcolor{comment}{//}}
\DoxyCodeLine{00302 \textcolor{comment}{//}}
\DoxyCodeLine{00303 \textcolor{comment}{//ShapesApp::\string~ShapesApp()}}
\DoxyCodeLine{00304 \textcolor{comment}{//}}
\DoxyCodeLine{00305 \textcolor{comment}{//\{}}
\DoxyCodeLine{00306 \textcolor{comment}{//}}
\DoxyCodeLine{00307 \textcolor{comment}{//  if (md3dDevice != nullptr)}}
\DoxyCodeLine{00308 \textcolor{comment}{//}}
\DoxyCodeLine{00309 \textcolor{comment}{//      FlushCommandQueue();}}
\DoxyCodeLine{00310 \textcolor{comment}{//}}
\DoxyCodeLine{00311 \textcolor{comment}{//\}}}
\DoxyCodeLine{00312 \textcolor{comment}{//}}
\DoxyCodeLine{00313 \textcolor{comment}{//}}
\DoxyCodeLine{00314 \textcolor{comment}{//}}
\DoxyCodeLine{00315 \textcolor{comment}{//bool ShapesApp::Initialize()}}
\DoxyCodeLine{00316 \textcolor{comment}{//}}
\DoxyCodeLine{00317 \textcolor{comment}{//\{}}
\DoxyCodeLine{00318 \textcolor{comment}{//}}
\DoxyCodeLine{00319 \textcolor{comment}{//  if (!D3DApp::Initialize())}}
\DoxyCodeLine{00320 \textcolor{comment}{//}}
\DoxyCodeLine{00321 \textcolor{comment}{//      return false;}}
\DoxyCodeLine{00322 \textcolor{comment}{//}}
\DoxyCodeLine{00323 \textcolor{comment}{//}}
\DoxyCodeLine{00324 \textcolor{comment}{//}}
\DoxyCodeLine{00325 \textcolor{comment}{//  // Reset the command list to prep for initialization commands.}}
\DoxyCodeLine{00326 \textcolor{comment}{//}}
\DoxyCodeLine{00327 \textcolor{comment}{//  ThrowIfFailed(mCommandList-\/>Reset(mDirectCmdListAlloc.Get(), nullptr));}}
\DoxyCodeLine{00328 \textcolor{comment}{//}}
\DoxyCodeLine{00329 \textcolor{comment}{//}}
\DoxyCodeLine{00330 \textcolor{comment}{//}}
\DoxyCodeLine{00331 \textcolor{comment}{//  BuildRootSignature();}}
\DoxyCodeLine{00332 \textcolor{comment}{//}}
\DoxyCodeLine{00333 \textcolor{comment}{//  BuildShadersAndInputLayout();}}
\DoxyCodeLine{00334 \textcolor{comment}{//}}
\DoxyCodeLine{00335 \textcolor{comment}{//  BuildShapeGeometry();}}
\DoxyCodeLine{00336 \textcolor{comment}{//}}
\DoxyCodeLine{00337 \textcolor{comment}{//  BuildRenderItems();}}
\DoxyCodeLine{00338 \textcolor{comment}{//}}
\DoxyCodeLine{00339 \textcolor{comment}{//  BuildFrameResources();}}
\DoxyCodeLine{00340 \textcolor{comment}{//}}
\DoxyCodeLine{00341 \textcolor{comment}{//  BuildDescriptorHeaps();}}
\DoxyCodeLine{00342 \textcolor{comment}{//}}
\DoxyCodeLine{00343 \textcolor{comment}{//  BuildConstantBufferViews();}}
\DoxyCodeLine{00344 \textcolor{comment}{//}}
\DoxyCodeLine{00345 \textcolor{comment}{//  BuildPSOs();}}
\DoxyCodeLine{00346 \textcolor{comment}{//}}
\DoxyCodeLine{00347 \textcolor{comment}{//}}
\DoxyCodeLine{00348 \textcolor{comment}{//}}
\DoxyCodeLine{00349 \textcolor{comment}{//  // Execute the initialization commands.}}
\DoxyCodeLine{00350 \textcolor{comment}{//}}
\DoxyCodeLine{00351 \textcolor{comment}{//  ThrowIfFailed(mCommandList-\/>Close());}}
\DoxyCodeLine{00352 \textcolor{comment}{//}}
\DoxyCodeLine{00353 \textcolor{comment}{//  ID3D12CommandList* cmdsLists[] = \{ mCommandList.Get() \};}}
\DoxyCodeLine{00354 \textcolor{comment}{//}}
\DoxyCodeLine{00355 \textcolor{comment}{//  mCommandQueue-\/>ExecuteCommandLists(\_countof(cmdsLists), cmdsLists);}}
\DoxyCodeLine{00356 \textcolor{comment}{//}}
\DoxyCodeLine{00357 \textcolor{comment}{//}}
\DoxyCodeLine{00358 \textcolor{comment}{//}}
\DoxyCodeLine{00359 \textcolor{comment}{//  // Wait until initialization is complete.}}
\DoxyCodeLine{00360 \textcolor{comment}{//}}
\DoxyCodeLine{00361 \textcolor{comment}{//  FlushCommandQueue();}}
\DoxyCodeLine{00362 \textcolor{comment}{//}}
\DoxyCodeLine{00363 \textcolor{comment}{//}}
\DoxyCodeLine{00364 \textcolor{comment}{//}}
\DoxyCodeLine{00365 \textcolor{comment}{//  return true;}}
\DoxyCodeLine{00366 \textcolor{comment}{//}}
\DoxyCodeLine{00367 \textcolor{comment}{//\}}}
\DoxyCodeLine{00368 \textcolor{comment}{//}}
\DoxyCodeLine{00369 \textcolor{comment}{//}}
\DoxyCodeLine{00370 \textcolor{comment}{//}}
\DoxyCodeLine{00371 \textcolor{comment}{//void ShapesApp::OnResize()}}
\DoxyCodeLine{00372 \textcolor{comment}{//}}
\DoxyCodeLine{00373 \textcolor{comment}{//\{}}
\DoxyCodeLine{00374 \textcolor{comment}{//}}
\DoxyCodeLine{00375 \textcolor{comment}{//  D3DApp::OnResize();}}
\DoxyCodeLine{00376 \textcolor{comment}{//}}
\DoxyCodeLine{00377 \textcolor{comment}{//}}
\DoxyCodeLine{00378 \textcolor{comment}{//}}
\DoxyCodeLine{00379 \textcolor{comment}{//  // The window resized, so update the aspect ratio and recompute the projection matrix.}}
\DoxyCodeLine{00380 \textcolor{comment}{//}}
\DoxyCodeLine{00381 \textcolor{comment}{//  XMMATRIX P = XMMatrixPerspectiveFovLH(0.25f * MathHelper::Pi, AspectRatio(), 1.0f, 1000.0f);}}
\DoxyCodeLine{00382 \textcolor{comment}{//}}
\DoxyCodeLine{00383 \textcolor{comment}{//  XMStoreFloat4x4(\&mProj, P);}}
\DoxyCodeLine{00384 \textcolor{comment}{//}}
\DoxyCodeLine{00385 \textcolor{comment}{//\}}}
\DoxyCodeLine{00386 \textcolor{comment}{//}}
\DoxyCodeLine{00387 \textcolor{comment}{//}}
\DoxyCodeLine{00388 \textcolor{comment}{//}}
\DoxyCodeLine{00389 \textcolor{comment}{//void ShapesApp::Update(const GameTimer\& gt)}}
\DoxyCodeLine{00390 \textcolor{comment}{//}}
\DoxyCodeLine{00391 \textcolor{comment}{//\{}}
\DoxyCodeLine{00392 \textcolor{comment}{//}}
\DoxyCodeLine{00393 \textcolor{comment}{//  OnKeyboardInput(gt);}}
\DoxyCodeLine{00394 \textcolor{comment}{//}}
\DoxyCodeLine{00395 \textcolor{comment}{//  UpdateCamera(gt);}}
\DoxyCodeLine{00396 \textcolor{comment}{//}}
\DoxyCodeLine{00397 \textcolor{comment}{//}}
\DoxyCodeLine{00398 \textcolor{comment}{//}}
\DoxyCodeLine{00399 \textcolor{comment}{//  // Cycle through the circular frame resource array.}}
\DoxyCodeLine{00400 \textcolor{comment}{//}}
\DoxyCodeLine{00401 \textcolor{comment}{//  mCurrFrameResourceIndex = (mCurrFrameResourceIndex + 1) \% gNumFrameResources;}}
\DoxyCodeLine{00402 \textcolor{comment}{//}}
\DoxyCodeLine{00403 \textcolor{comment}{//  mCurrFrameResource = mFrameResources[mCurrFrameResourceIndex].get();}}
\DoxyCodeLine{00404 \textcolor{comment}{//}}
\DoxyCodeLine{00405 \textcolor{comment}{//}}
\DoxyCodeLine{00406 \textcolor{comment}{//}}
\DoxyCodeLine{00407 \textcolor{comment}{//  // Has the GPU finished processing the commands of the current frame resource?}}
\DoxyCodeLine{00408 \textcolor{comment}{//}}
\DoxyCodeLine{00409 \textcolor{comment}{//  // If not, wait until the GPU has completed commands up to this fence point.}}
\DoxyCodeLine{00410 \textcolor{comment}{//}}
\DoxyCodeLine{00411 \textcolor{comment}{//  if (mCurrFrameResource-\/>Fence != 0 \&\& mFence-\/>GetCompletedValue() < mCurrFrameResource-\/>Fence)}}
\DoxyCodeLine{00412 \textcolor{comment}{//}}
\DoxyCodeLine{00413 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00414 \textcolor{comment}{//}}
\DoxyCodeLine{00415 \textcolor{comment}{//      HANDLE eventHandle = CreateEventEx(nullptr, nullptr, false, EVENT\_ALL\_ACCESS);}}
\DoxyCodeLine{00416 \textcolor{comment}{//}}
\DoxyCodeLine{00417 \textcolor{comment}{//      ThrowIfFailed(mFence-\/>SetEventOnCompletion(mCurrFrameResource-\/>Fence, eventHandle));}}
\DoxyCodeLine{00418 \textcolor{comment}{//}}
\DoxyCodeLine{00419 \textcolor{comment}{//      WaitForSingleObject(eventHandle, INFINITE);}}
\DoxyCodeLine{00420 \textcolor{comment}{//}}
\DoxyCodeLine{00421 \textcolor{comment}{//      CloseHandle(eventHandle);}}
\DoxyCodeLine{00422 \textcolor{comment}{//}}
\DoxyCodeLine{00423 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00424 \textcolor{comment}{//}}
\DoxyCodeLine{00425 \textcolor{comment}{//}}
\DoxyCodeLine{00426 \textcolor{comment}{//}}
\DoxyCodeLine{00427 \textcolor{comment}{//  UpdateObjectCBs(gt);}}
\DoxyCodeLine{00428 \textcolor{comment}{//}}
\DoxyCodeLine{00429 \textcolor{comment}{//  UpdateMainPassCB(gt);}}
\DoxyCodeLine{00430 \textcolor{comment}{//}}
\DoxyCodeLine{00431 \textcolor{comment}{//\}}}
\DoxyCodeLine{00432 \textcolor{comment}{//}}
\DoxyCodeLine{00433 \textcolor{comment}{//}}
\DoxyCodeLine{00434 \textcolor{comment}{//}}
\DoxyCodeLine{00435 \textcolor{comment}{//void ShapesApp::Draw(const GameTimer\& gt)}}
\DoxyCodeLine{00436 \textcolor{comment}{//}}
\DoxyCodeLine{00437 \textcolor{comment}{//\{}}
\DoxyCodeLine{00438 \textcolor{comment}{//}}
\DoxyCodeLine{00439 \textcolor{comment}{//  auto cmdListAlloc = mCurrFrameResource-\/>CmdListAlloc;}}
\DoxyCodeLine{00440 \textcolor{comment}{//}}
\DoxyCodeLine{00441 \textcolor{comment}{//}}
\DoxyCodeLine{00442 \textcolor{comment}{//  // Reuse the memory associated with command recording.}}
\DoxyCodeLine{00443 \textcolor{comment}{//}}
\DoxyCodeLine{00444 \textcolor{comment}{//  // We can only reset when the associated command lists have finished execution on the GPU.}}
\DoxyCodeLine{00445 \textcolor{comment}{//}}
\DoxyCodeLine{00446 \textcolor{comment}{//  ThrowIfFailed(cmdListAlloc-\/>Reset());}}
\DoxyCodeLine{00447 \textcolor{comment}{//}}
\DoxyCodeLine{00448 \textcolor{comment}{//}}
\DoxyCodeLine{00449 \textcolor{comment}{//  // A command list can be reset after it has been added to the command queue via ExecuteCommandList.}}
\DoxyCodeLine{00450 \textcolor{comment}{//}}
\DoxyCodeLine{00451 \textcolor{comment}{//  // Reusing the command list reuses memory.}}
\DoxyCodeLine{00452 \textcolor{comment}{//}}
\DoxyCodeLine{00453 \textcolor{comment}{//  if (mIsWireframe)}}
\DoxyCodeLine{00454 \textcolor{comment}{//}}
\DoxyCodeLine{00455 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00456 \textcolor{comment}{//}}
\DoxyCodeLine{00457 \textcolor{comment}{//      ThrowIfFailed(mCommandList-\/>Reset(cmdListAlloc.Get(), mPSOs["{}opaque\_wireframe"{}].Get()));}}
\DoxyCodeLine{00458 \textcolor{comment}{//}}
\DoxyCodeLine{00459 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00460 \textcolor{comment}{//}}
\DoxyCodeLine{00461 \textcolor{comment}{//  else}}
\DoxyCodeLine{00462 \textcolor{comment}{//}}
\DoxyCodeLine{00463 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00464 \textcolor{comment}{//}}
\DoxyCodeLine{00465 \textcolor{comment}{//      ThrowIfFailed(mCommandList-\/>Reset(cmdListAlloc.Get(), mPSOs["{}opaque"{}].Get()));}}
\DoxyCodeLine{00466 \textcolor{comment}{//}}
\DoxyCodeLine{00467 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00468 \textcolor{comment}{//}}
\DoxyCodeLine{00469 \textcolor{comment}{//}}
\DoxyCodeLine{00470 \textcolor{comment}{//}}
\DoxyCodeLine{00471 \textcolor{comment}{//  mCommandList-\/>RSSetViewports(1, \&mScreenViewport);}}
\DoxyCodeLine{00472 \textcolor{comment}{//}}
\DoxyCodeLine{00473 \textcolor{comment}{//  mCommandList-\/>RSSetScissorRects(1, \&mScissorRect);}}
\DoxyCodeLine{00474 \textcolor{comment}{//}}
\DoxyCodeLine{00475 \textcolor{comment}{//}}
\DoxyCodeLine{00476 \textcolor{comment}{//}}
\DoxyCodeLine{00477 \textcolor{comment}{//  // Indicate a state transition on the resource usage.}}
\DoxyCodeLine{00478 \textcolor{comment}{//}}
\DoxyCodeLine{00479 \textcolor{comment}{//  mCommandList-\/>ResourceBarrier(1, \&CD3DX12\_RESOURCE\_BARRIER::Transition(CurrentBackBuffer(),}}
\DoxyCodeLine{00480 \textcolor{comment}{//}}
\DoxyCodeLine{00481 \textcolor{comment}{//      D3D12\_RESOURCE\_STATE\_PRESENT, D3D12\_RESOURCE\_STATE\_RENDER\_TARGET));}}
\DoxyCodeLine{00482 \textcolor{comment}{//}}
\DoxyCodeLine{00483 \textcolor{comment}{//}}
\DoxyCodeLine{00484 \textcolor{comment}{//}}
\DoxyCodeLine{00485 \textcolor{comment}{//  // Clear the back buffer and depth buffer.}}
\DoxyCodeLine{00486 \textcolor{comment}{//}}
\DoxyCodeLine{00487 \textcolor{comment}{//  mCommandList-\/>ClearRenderTargetView(CurrentBackBufferView(), Colors::LightSteelBlue, 0, nullptr);}}
\DoxyCodeLine{00488 \textcolor{comment}{//}}
\DoxyCodeLine{00489 \textcolor{comment}{//  mCommandList-\/>ClearDepthStencilView(DepthStencilView(), D3D12\_CLEAR\_FLAG\_DEPTH | D3D12\_CLEAR\_FLAG\_STENCIL, 1.0f, 0, 0, nullptr);}}
\DoxyCodeLine{00490 \textcolor{comment}{//}}
\DoxyCodeLine{00491 \textcolor{comment}{//}}
\DoxyCodeLine{00492 \textcolor{comment}{//}}
\DoxyCodeLine{00493 \textcolor{comment}{//  // Specify the buffers we are going to render to.}}
\DoxyCodeLine{00494 \textcolor{comment}{//}}
\DoxyCodeLine{00495 \textcolor{comment}{//  mCommandList-\/>OMSetRenderTargets(1, \&CurrentBackBufferView(), true, \&DepthStencilView());}}
\DoxyCodeLine{00496 \textcolor{comment}{//}}
\DoxyCodeLine{00497 \textcolor{comment}{//}}
\DoxyCodeLine{00498 \textcolor{comment}{//  //step2: No more descriptor heap,  we simply bind the virtual address of the resource directly for each frame resource.}}
\DoxyCodeLine{00499 \textcolor{comment}{//}}
\DoxyCodeLine{00500 \textcolor{comment}{//  //ID3D12DescriptorHeap* descriptorHeaps[] = \{ mCbvHeap.Get() \};}}
\DoxyCodeLine{00501 \textcolor{comment}{//  //mCommandList-\/>SetDescriptorHeaps(\_countof(descriptorHeaps), descriptorHeaps);}}
\DoxyCodeLine{00502 \textcolor{comment}{//  mCommandList-\/>SetGraphicsRootSignature(mRootSignature.Get());}}
\DoxyCodeLine{00503 \textcolor{comment}{//}}
\DoxyCodeLine{00504 \textcolor{comment}{//  // Bind per-\/pass constant buffer. We only need to do this once per -\/ pass.}}
\DoxyCodeLine{00505 \textcolor{comment}{//}}
\DoxyCodeLine{00506 \textcolor{comment}{//  //int passCbvIndex = mPassCbvOffset + mCurrFrameResourceIndex;}}
\DoxyCodeLine{00507 \textcolor{comment}{//  //auto passCbvHandle = CD3DX12\_GPU\_DESCRIPTOR\_HANDLE(mCbvHeap-\/>GetGPUDescriptorHandleForHeapStart());}}
\DoxyCodeLine{00508 \textcolor{comment}{//  //passCbvHandle.Offset(passCbvIndex, mCbvSrvUavDescriptorSize);}}
\DoxyCodeLine{00509 \textcolor{comment}{//  //mCommandList-\/>SetGraphicsRootDescriptorTable(1, passCbvHandle);}}
\DoxyCodeLine{00510 \textcolor{comment}{//}}
\DoxyCodeLine{00511 \textcolor{comment}{//  auto passCB = mCurrFrameResource-\/>PassCB-\/>Resource();}}
\DoxyCodeLine{00512 \textcolor{comment}{//  mCommandList-\/>SetGraphicsRootConstantBufferView(1, passCB-\/>GetGPUVirtualAddress());}}
\DoxyCodeLine{00513 \textcolor{comment}{//  //end of step2}}
\DoxyCodeLine{00514 \textcolor{comment}{//}}
\DoxyCodeLine{00515 \textcolor{comment}{//}}
\DoxyCodeLine{00516 \textcolor{comment}{//  DrawRenderItems(mCommandList.Get(), mOpaqueRitems);}}
\DoxyCodeLine{00517 \textcolor{comment}{//}}
\DoxyCodeLine{00518 \textcolor{comment}{//}}
\DoxyCodeLine{00519 \textcolor{comment}{//}}
\DoxyCodeLine{00520 \textcolor{comment}{//  // Indicate a state transition on the resource usage.}}
\DoxyCodeLine{00521 \textcolor{comment}{//}}
\DoxyCodeLine{00522 \textcolor{comment}{//  mCommandList-\/>ResourceBarrier(1, \&CD3DX12\_RESOURCE\_BARRIER::Transition(CurrentBackBuffer(),}}
\DoxyCodeLine{00523 \textcolor{comment}{//}}
\DoxyCodeLine{00524 \textcolor{comment}{//      D3D12\_RESOURCE\_STATE\_RENDER\_TARGET, D3D12\_RESOURCE\_STATE\_PRESENT));}}
\DoxyCodeLine{00525 \textcolor{comment}{//}}
\DoxyCodeLine{00526 \textcolor{comment}{//}}
\DoxyCodeLine{00527 \textcolor{comment}{//}}
\DoxyCodeLine{00528 \textcolor{comment}{//  // Done recording commands.}}
\DoxyCodeLine{00529 \textcolor{comment}{//}}
\DoxyCodeLine{00530 \textcolor{comment}{//  ThrowIfFailed(mCommandList-\/>Close());}}
\DoxyCodeLine{00531 \textcolor{comment}{//}}
\DoxyCodeLine{00532 \textcolor{comment}{//}}
\DoxyCodeLine{00533 \textcolor{comment}{//}}
\DoxyCodeLine{00534 \textcolor{comment}{//  // Add the command list to the queue for execution.}}
\DoxyCodeLine{00535 \textcolor{comment}{//}}
\DoxyCodeLine{00536 \textcolor{comment}{//  ID3D12CommandList* cmdsLists[] = \{ mCommandList.Get() \};}}
\DoxyCodeLine{00537 \textcolor{comment}{//}}
\DoxyCodeLine{00538 \textcolor{comment}{//  mCommandQueue-\/>ExecuteCommandLists(\_countof(cmdsLists), cmdsLists);}}
\DoxyCodeLine{00539 \textcolor{comment}{//}}
\DoxyCodeLine{00540 \textcolor{comment}{//}}
\DoxyCodeLine{00541 \textcolor{comment}{//}}
\DoxyCodeLine{00542 \textcolor{comment}{//  // Swap the back and front buffers}}
\DoxyCodeLine{00543 \textcolor{comment}{//}}
\DoxyCodeLine{00544 \textcolor{comment}{//  ThrowIfFailed(mSwapChain-\/>Present(0, 0));}}
\DoxyCodeLine{00545 \textcolor{comment}{//}}
\DoxyCodeLine{00546 \textcolor{comment}{//  mCurrBackBuffer = (mCurrBackBuffer + 1) \% SwapChainBufferCount;}}
\DoxyCodeLine{00547 \textcolor{comment}{//}}
\DoxyCodeLine{00548 \textcolor{comment}{//}}
\DoxyCodeLine{00549 \textcolor{comment}{//}}
\DoxyCodeLine{00550 \textcolor{comment}{//  // Advance the fence value to mark commands up to this fence point.}}
\DoxyCodeLine{00551 \textcolor{comment}{//}}
\DoxyCodeLine{00552 \textcolor{comment}{//  mCurrFrameResource-\/>Fence = ++mCurrentFence;}}
\DoxyCodeLine{00553 \textcolor{comment}{//}}
\DoxyCodeLine{00554 \textcolor{comment}{//}}
\DoxyCodeLine{00555 \textcolor{comment}{//}}
\DoxyCodeLine{00556 \textcolor{comment}{//  // Add an instruction to the command queue to set a new fence point.}}
\DoxyCodeLine{00557 \textcolor{comment}{//}}
\DoxyCodeLine{00558 \textcolor{comment}{//  // Because we are on the GPU timeline, the new fence point won't be}}
\DoxyCodeLine{00559 \textcolor{comment}{//}}
\DoxyCodeLine{00560 \textcolor{comment}{//  // set until the GPU finishes processing all the commands prior to this Signal().}}
\DoxyCodeLine{00561 \textcolor{comment}{//}}
\DoxyCodeLine{00562 \textcolor{comment}{//  mCommandQueue-\/>Signal(mFence.Get(), mCurrentFence);}}
\DoxyCodeLine{00563 \textcolor{comment}{//}}
\DoxyCodeLine{00564 \textcolor{comment}{//\}}}
\DoxyCodeLine{00565 \textcolor{comment}{//}}
\DoxyCodeLine{00566 \textcolor{comment}{//}}
\DoxyCodeLine{00567 \textcolor{comment}{//}}
\DoxyCodeLine{00568 \textcolor{comment}{//void ShapesApp::OnMouseDown(WPARAM btnState, int x, int y)}}
\DoxyCodeLine{00569 \textcolor{comment}{//}}
\DoxyCodeLine{00570 \textcolor{comment}{//\{}}
\DoxyCodeLine{00571 \textcolor{comment}{//}}
\DoxyCodeLine{00572 \textcolor{comment}{//  mLastMousePos.x = x;}}
\DoxyCodeLine{00573 \textcolor{comment}{//}}
\DoxyCodeLine{00574 \textcolor{comment}{//  mLastMousePos.y = y;}}
\DoxyCodeLine{00575 \textcolor{comment}{//}}
\DoxyCodeLine{00576 \textcolor{comment}{//}}
\DoxyCodeLine{00577 \textcolor{comment}{//}}
\DoxyCodeLine{00578 \textcolor{comment}{//  SetCapture(mhMainWnd);}}
\DoxyCodeLine{00579 \textcolor{comment}{//}}
\DoxyCodeLine{00580 \textcolor{comment}{//\}}}
\DoxyCodeLine{00581 \textcolor{comment}{//}}
\DoxyCodeLine{00582 \textcolor{comment}{//}}
\DoxyCodeLine{00583 \textcolor{comment}{//}}
\DoxyCodeLine{00584 \textcolor{comment}{//void ShapesApp::OnMouseUp(WPARAM btnState, int x, int y)}}
\DoxyCodeLine{00585 \textcolor{comment}{//}}
\DoxyCodeLine{00586 \textcolor{comment}{//\{}}
\DoxyCodeLine{00587 \textcolor{comment}{//}}
\DoxyCodeLine{00588 \textcolor{comment}{//  ReleaseCapture();}}
\DoxyCodeLine{00589 \textcolor{comment}{//}}
\DoxyCodeLine{00590 \textcolor{comment}{//\}}}
\DoxyCodeLine{00591 \textcolor{comment}{//}}
\DoxyCodeLine{00592 \textcolor{comment}{//}}
\DoxyCodeLine{00593 \textcolor{comment}{//}}
\DoxyCodeLine{00594 \textcolor{comment}{//void ShapesApp::OnMouseMove(WPARAM btnState, int x, int y)}}
\DoxyCodeLine{00595 \textcolor{comment}{//}}
\DoxyCodeLine{00596 \textcolor{comment}{//\{}}
\DoxyCodeLine{00597 \textcolor{comment}{//}}
\DoxyCodeLine{00598 \textcolor{comment}{//  if ((btnState \& MK\_LBUTTON) != 0)}}
\DoxyCodeLine{00599 \textcolor{comment}{//}}
\DoxyCodeLine{00600 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00601 \textcolor{comment}{//}}
\DoxyCodeLine{00602 \textcolor{comment}{//      // Make each pixel correspond to a quarter of a degree.}}
\DoxyCodeLine{00603 \textcolor{comment}{//}}
\DoxyCodeLine{00604 \textcolor{comment}{//      float dx = XMConvertToRadians(0.25f * static\_cast<float>(x -\/ mLastMousePos.x));}}
\DoxyCodeLine{00605 \textcolor{comment}{//}}
\DoxyCodeLine{00606 \textcolor{comment}{//      float dy = XMConvertToRadians(0.25f * static\_cast<float>(y -\/ mLastMousePos.y));}}
\DoxyCodeLine{00607 \textcolor{comment}{//}}
\DoxyCodeLine{00608 \textcolor{comment}{//}}
\DoxyCodeLine{00609 \textcolor{comment}{//}}
\DoxyCodeLine{00610 \textcolor{comment}{//      // Update angles based on input to orbit camera around box.}}
\DoxyCodeLine{00611 \textcolor{comment}{//}}
\DoxyCodeLine{00612 \textcolor{comment}{//      mTheta += dx;}}
\DoxyCodeLine{00613 \textcolor{comment}{//}}
\DoxyCodeLine{00614 \textcolor{comment}{//      mPhi += dy;}}
\DoxyCodeLine{00615 \textcolor{comment}{//}}
\DoxyCodeLine{00616 \textcolor{comment}{//}}
\DoxyCodeLine{00617 \textcolor{comment}{//}}
\DoxyCodeLine{00618 \textcolor{comment}{//      // Restrict the angle mPhi.}}
\DoxyCodeLine{00619 \textcolor{comment}{//}}
\DoxyCodeLine{00620 \textcolor{comment}{//      mPhi = MathHelper::Clamp(mPhi, 0.1f, MathHelper::Pi -\/ 0.1f);}}
\DoxyCodeLine{00621 \textcolor{comment}{//}}
\DoxyCodeLine{00622 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00623 \textcolor{comment}{//}}
\DoxyCodeLine{00624 \textcolor{comment}{//  else if ((btnState \& MK\_RBUTTON) != 0)}}
\DoxyCodeLine{00625 \textcolor{comment}{//}}
\DoxyCodeLine{00626 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00627 \textcolor{comment}{//}}
\DoxyCodeLine{00628 \textcolor{comment}{//      // Make each pixel correspond to 0.2 unit in the scene.}}
\DoxyCodeLine{00629 \textcolor{comment}{//}}
\DoxyCodeLine{00630 \textcolor{comment}{//      float dx = 0.05f * static\_cast<float>(x -\/ mLastMousePos.x);}}
\DoxyCodeLine{00631 \textcolor{comment}{//}}
\DoxyCodeLine{00632 \textcolor{comment}{//      float dy = 0.05f * static\_cast<float>(y -\/ mLastMousePos.y);}}
\DoxyCodeLine{00633 \textcolor{comment}{//}}
\DoxyCodeLine{00634 \textcolor{comment}{//}}
\DoxyCodeLine{00635 \textcolor{comment}{//}}
\DoxyCodeLine{00636 \textcolor{comment}{//      // Update the camera radius based on input.}}
\DoxyCodeLine{00637 \textcolor{comment}{//}}
\DoxyCodeLine{00638 \textcolor{comment}{//      mRadius += dx -\/ dy;}}
\DoxyCodeLine{00639 \textcolor{comment}{//}}
\DoxyCodeLine{00640 \textcolor{comment}{//}}
\DoxyCodeLine{00641 \textcolor{comment}{//}}
\DoxyCodeLine{00642 \textcolor{comment}{//      // Restrict the radius.}}
\DoxyCodeLine{00643 \textcolor{comment}{//}}
\DoxyCodeLine{00644 \textcolor{comment}{//      mRadius = MathHelper::Clamp(mRadius, 5.0f, 150.0f);}}
\DoxyCodeLine{00645 \textcolor{comment}{//}}
\DoxyCodeLine{00646 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00647 \textcolor{comment}{//}}
\DoxyCodeLine{00648 \textcolor{comment}{//}}
\DoxyCodeLine{00649 \textcolor{comment}{//}}
\DoxyCodeLine{00650 \textcolor{comment}{//  mLastMousePos.x = x;}}
\DoxyCodeLine{00651 \textcolor{comment}{//}}
\DoxyCodeLine{00652 \textcolor{comment}{//  mLastMousePos.y = y;}}
\DoxyCodeLine{00653 \textcolor{comment}{//}}
\DoxyCodeLine{00654 \textcolor{comment}{//\}}}
\DoxyCodeLine{00655 \textcolor{comment}{//}}
\DoxyCodeLine{00656 \textcolor{comment}{//}}
\DoxyCodeLine{00657 \textcolor{comment}{//}}
\DoxyCodeLine{00658 \textcolor{comment}{//void ShapesApp::OnKeyboardInput(const GameTimer\& gt)}}
\DoxyCodeLine{00659 \textcolor{comment}{//}}
\DoxyCodeLine{00660 \textcolor{comment}{//\{}}
\DoxyCodeLine{00661 \textcolor{comment}{//}}
\DoxyCodeLine{00662 \textcolor{comment}{//  if (GetAsyncKeyState('1') \& 0x8000)}}
\DoxyCodeLine{00663 \textcolor{comment}{//}}
\DoxyCodeLine{00664 \textcolor{comment}{//      mIsWireframe = true;}}
\DoxyCodeLine{00665 \textcolor{comment}{//}}
\DoxyCodeLine{00666 \textcolor{comment}{//  else}}
\DoxyCodeLine{00667 \textcolor{comment}{//}}
\DoxyCodeLine{00668 \textcolor{comment}{//      mIsWireframe = false;}}
\DoxyCodeLine{00669 \textcolor{comment}{//}}
\DoxyCodeLine{00670 \textcolor{comment}{//\}}}
\DoxyCodeLine{00671 \textcolor{comment}{//}}
\DoxyCodeLine{00672 \textcolor{comment}{//}}
\DoxyCodeLine{00673 \textcolor{comment}{//}}
\DoxyCodeLine{00674 \textcolor{comment}{//void ShapesApp::UpdateCamera(const GameTimer\& gt)}}
\DoxyCodeLine{00675 \textcolor{comment}{//}}
\DoxyCodeLine{00676 \textcolor{comment}{//\{}}
\DoxyCodeLine{00677 \textcolor{comment}{//}}
\DoxyCodeLine{00678 \textcolor{comment}{//  // Convert Spherical to Cartesian coordinates.}}
\DoxyCodeLine{00679 \textcolor{comment}{//}}
\DoxyCodeLine{00680 \textcolor{comment}{//  mEyePos.x = mRadius * sinf(mPhi) * cosf(mTheta);}}
\DoxyCodeLine{00681 \textcolor{comment}{//}}
\DoxyCodeLine{00682 \textcolor{comment}{//  mEyePos.z = mRadius * sinf(mPhi) * sinf(mTheta);}}
\DoxyCodeLine{00683 \textcolor{comment}{//}}
\DoxyCodeLine{00684 \textcolor{comment}{//  mEyePos.y = mRadius * cosf(mPhi);}}
\DoxyCodeLine{00685 \textcolor{comment}{//}}
\DoxyCodeLine{00686 \textcolor{comment}{//}}
\DoxyCodeLine{00687 \textcolor{comment}{//}}
\DoxyCodeLine{00688 \textcolor{comment}{//  // Build the view matrix.}}
\DoxyCodeLine{00689 \textcolor{comment}{//}}
\DoxyCodeLine{00690 \textcolor{comment}{//  XMVECTOR pos = XMVectorSet(mEyePos.x, mEyePos.y, mEyePos.z, 1.0f);}}
\DoxyCodeLine{00691 \textcolor{comment}{//}}
\DoxyCodeLine{00692 \textcolor{comment}{//  XMVECTOR target = XMVectorZero();}}
\DoxyCodeLine{00693 \textcolor{comment}{//}}
\DoxyCodeLine{00694 \textcolor{comment}{//  XMVECTOR up = XMVectorSet(0.0f, 1.0f, 0.0f, 0.0f);}}
\DoxyCodeLine{00695 \textcolor{comment}{//}}
\DoxyCodeLine{00696 \textcolor{comment}{//}}
\DoxyCodeLine{00697 \textcolor{comment}{//}}
\DoxyCodeLine{00698 \textcolor{comment}{//  XMMATRIX view = XMMatrixLookAtLH(pos, target, up);}}
\DoxyCodeLine{00699 \textcolor{comment}{//}}
\DoxyCodeLine{00700 \textcolor{comment}{//  XMStoreFloat4x4(\&mView, view);}}
\DoxyCodeLine{00701 \textcolor{comment}{//}}
\DoxyCodeLine{00702 \textcolor{comment}{//\}}}
\DoxyCodeLine{00703 \textcolor{comment}{//}}
\DoxyCodeLine{00704 \textcolor{comment}{//}}
\DoxyCodeLine{00705 \textcolor{comment}{//}}
\DoxyCodeLine{00706 \textcolor{comment}{//void ShapesApp::UpdateObjectCBs(const GameTimer\& gt)}}
\DoxyCodeLine{00707 \textcolor{comment}{//}}
\DoxyCodeLine{00708 \textcolor{comment}{//\{}}
\DoxyCodeLine{00709 \textcolor{comment}{//}}
\DoxyCodeLine{00710 \textcolor{comment}{//  auto currObjectCB = mCurrFrameResource-\/>ObjectCB.get();}}
\DoxyCodeLine{00711 \textcolor{comment}{//}}
\DoxyCodeLine{00712 \textcolor{comment}{//  for (auto\& e : mAllRitems)}}
\DoxyCodeLine{00713 \textcolor{comment}{//}}
\DoxyCodeLine{00714 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00715 \textcolor{comment}{//}}
\DoxyCodeLine{00716 \textcolor{comment}{//      // Only update the cbuffer data if the constants have changed. }}
\DoxyCodeLine{00717 \textcolor{comment}{//}}
\DoxyCodeLine{00718 \textcolor{comment}{//      // This needs to be tracked per frame resource.}}
\DoxyCodeLine{00719 \textcolor{comment}{//}}
\DoxyCodeLine{00720 \textcolor{comment}{//      if (e-\/>NumFramesDirty > 0)}}
\DoxyCodeLine{00721 \textcolor{comment}{//}}
\DoxyCodeLine{00722 \textcolor{comment}{//      \{}}
\DoxyCodeLine{00723 \textcolor{comment}{//}}
\DoxyCodeLine{00724 \textcolor{comment}{//          XMMATRIX world = XMLoadFloat4x4(\&e-\/>World);}}
\DoxyCodeLine{00725 \textcolor{comment}{//}}
\DoxyCodeLine{00726 \textcolor{comment}{//}}
\DoxyCodeLine{00727 \textcolor{comment}{//}}
\DoxyCodeLine{00728 \textcolor{comment}{//          ObjectConstants objConstants;}}
\DoxyCodeLine{00729 \textcolor{comment}{//}}
\DoxyCodeLine{00730 \textcolor{comment}{//          XMStoreFloat4x4(\&objConstants.World, XMMatrixTranspose(world));}}
\DoxyCodeLine{00731 \textcolor{comment}{//}}
\DoxyCodeLine{00732 \textcolor{comment}{//}}
\DoxyCodeLine{00733 \textcolor{comment}{//}}
\DoxyCodeLine{00734 \textcolor{comment}{//          currObjectCB-\/>CopyData(e-\/>ObjCBIndex, objConstants);}}
\DoxyCodeLine{00735 \textcolor{comment}{//}}
\DoxyCodeLine{00736 \textcolor{comment}{//}}
\DoxyCodeLine{00737 \textcolor{comment}{//}}
\DoxyCodeLine{00738 \textcolor{comment}{//          // Next FrameResource need to be updated too.}}
\DoxyCodeLine{00739 \textcolor{comment}{//}}
\DoxyCodeLine{00740 \textcolor{comment}{//          e-\/>NumFramesDirty-\/-\/;}}
\DoxyCodeLine{00741 \textcolor{comment}{//}}
\DoxyCodeLine{00742 \textcolor{comment}{//      \}}}
\DoxyCodeLine{00743 \textcolor{comment}{//}}
\DoxyCodeLine{00744 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00745 \textcolor{comment}{//}}
\DoxyCodeLine{00746 \textcolor{comment}{//\}}}
\DoxyCodeLine{00747 \textcolor{comment}{//}}
\DoxyCodeLine{00748 \textcolor{comment}{//}}
\DoxyCodeLine{00749 \textcolor{comment}{//}}
\DoxyCodeLine{00750 \textcolor{comment}{//void ShapesApp::UpdateMainPassCB(const GameTimer\& gt)}}
\DoxyCodeLine{00751 \textcolor{comment}{//}}
\DoxyCodeLine{00752 \textcolor{comment}{//\{}}
\DoxyCodeLine{00753 \textcolor{comment}{//}}
\DoxyCodeLine{00754 \textcolor{comment}{//  XMMATRIX view = XMLoadFloat4x4(\&mView);}}
\DoxyCodeLine{00755 \textcolor{comment}{//}}
\DoxyCodeLine{00756 \textcolor{comment}{//  XMMATRIX proj = XMLoadFloat4x4(\&mProj);}}
\DoxyCodeLine{00757 \textcolor{comment}{//}}
\DoxyCodeLine{00758 \textcolor{comment}{//}}
\DoxyCodeLine{00759 \textcolor{comment}{//}}
\DoxyCodeLine{00760 \textcolor{comment}{//  XMMATRIX viewProj = XMMatrixMultiply(view, proj);}}
\DoxyCodeLine{00761 \textcolor{comment}{//}}
\DoxyCodeLine{00762 \textcolor{comment}{//  XMMATRIX invView = XMMatrixInverse(\&XMMatrixDeterminant(view), view);}}
\DoxyCodeLine{00763 \textcolor{comment}{//}}
\DoxyCodeLine{00764 \textcolor{comment}{//  XMMATRIX invProj = XMMatrixInverse(\&XMMatrixDeterminant(proj), proj);}}
\DoxyCodeLine{00765 \textcolor{comment}{//}}
\DoxyCodeLine{00766 \textcolor{comment}{//  XMMATRIX invViewProj = XMMatrixInverse(\&XMMatrixDeterminant(viewProj), viewProj);}}
\DoxyCodeLine{00767 \textcolor{comment}{//}}
\DoxyCodeLine{00768 \textcolor{comment}{//}}
\DoxyCodeLine{00769 \textcolor{comment}{//}}
\DoxyCodeLine{00770 \textcolor{comment}{//  XMStoreFloat4x4(\&mMainPassCB.View, XMMatrixTranspose(view));}}
\DoxyCodeLine{00771 \textcolor{comment}{//}}
\DoxyCodeLine{00772 \textcolor{comment}{//  XMStoreFloat4x4(\&mMainPassCB.InvView, XMMatrixTranspose(invView));}}
\DoxyCodeLine{00773 \textcolor{comment}{//}}
\DoxyCodeLine{00774 \textcolor{comment}{//  XMStoreFloat4x4(\&mMainPassCB.Proj, XMMatrixTranspose(proj));}}
\DoxyCodeLine{00775 \textcolor{comment}{//}}
\DoxyCodeLine{00776 \textcolor{comment}{//  XMStoreFloat4x4(\&mMainPassCB.InvProj, XMMatrixTranspose(invProj));}}
\DoxyCodeLine{00777 \textcolor{comment}{//}}
\DoxyCodeLine{00778 \textcolor{comment}{//  XMStoreFloat4x4(\&mMainPassCB.ViewProj, XMMatrixTranspose(viewProj));}}
\DoxyCodeLine{00779 \textcolor{comment}{//}}
\DoxyCodeLine{00780 \textcolor{comment}{//  XMStoreFloat4x4(\&mMainPassCB.InvViewProj, XMMatrixTranspose(invViewProj));}}
\DoxyCodeLine{00781 \textcolor{comment}{//}}
\DoxyCodeLine{00782 \textcolor{comment}{//  mMainPassCB.EyePosW = mEyePos;}}
\DoxyCodeLine{00783 \textcolor{comment}{//}}
\DoxyCodeLine{00784 \textcolor{comment}{//  mMainPassCB.RenderTargetSize = XMFLOAT2((float)mClientWidth, (float)mClientHeight);}}
\DoxyCodeLine{00785 \textcolor{comment}{//}}
\DoxyCodeLine{00786 \textcolor{comment}{//  mMainPassCB.InvRenderTargetSize = XMFLOAT2(1.0f / mClientWidth, 1.0f / mClientHeight);}}
\DoxyCodeLine{00787 \textcolor{comment}{//}}
\DoxyCodeLine{00788 \textcolor{comment}{//  mMainPassCB.NearZ = 1.0f;}}
\DoxyCodeLine{00789 \textcolor{comment}{//}}
\DoxyCodeLine{00790 \textcolor{comment}{//  mMainPassCB.FarZ = 1000.0f;}}
\DoxyCodeLine{00791 \textcolor{comment}{//}}
\DoxyCodeLine{00792 \textcolor{comment}{//  mMainPassCB.TotalTime = gt.TotalTime();}}
\DoxyCodeLine{00793 \textcolor{comment}{//}}
\DoxyCodeLine{00794 \textcolor{comment}{//  mMainPassCB.DeltaTime = gt.DeltaTime();}}
\DoxyCodeLine{00795 \textcolor{comment}{//}}
\DoxyCodeLine{00796 \textcolor{comment}{//}}
\DoxyCodeLine{00797 \textcolor{comment}{//}}
\DoxyCodeLine{00798 \textcolor{comment}{//  auto currPassCB = mCurrFrameResource-\/>PassCB.get();}}
\DoxyCodeLine{00799 \textcolor{comment}{//}}
\DoxyCodeLine{00800 \textcolor{comment}{//  currPassCB-\/>CopyData(0, mMainPassCB);}}
\DoxyCodeLine{00801 \textcolor{comment}{//}}
\DoxyCodeLine{00802 \textcolor{comment}{//\}}}
\DoxyCodeLine{00803 \textcolor{comment}{//}}
\DoxyCodeLine{00804 \textcolor{comment}{//}}
\DoxyCodeLine{00805 \textcolor{comment}{//}}
\DoxyCodeLine{00806 \textcolor{comment}{//void ShapesApp::BuildDescriptorHeaps()}}
\DoxyCodeLine{00807 \textcolor{comment}{//}}
\DoxyCodeLine{00808 \textcolor{comment}{//\{}}
\DoxyCodeLine{00809 \textcolor{comment}{//}}
\DoxyCodeLine{00810 \textcolor{comment}{//  UINT objCount = (UINT)mOpaqueRitems.size();}}
\DoxyCodeLine{00811 \textcolor{comment}{//}}
\DoxyCodeLine{00812 \textcolor{comment}{//}}
\DoxyCodeLine{00813 \textcolor{comment}{//}}
\DoxyCodeLine{00814 \textcolor{comment}{//  // Need a CBV descriptor for each object for each frame resource,}}
\DoxyCodeLine{00815 \textcolor{comment}{//}}
\DoxyCodeLine{00816 \textcolor{comment}{//  // +1 for the perPass CBV for each frame resource.}}
\DoxyCodeLine{00817 \textcolor{comment}{//}}
\DoxyCodeLine{00818 \textcolor{comment}{//  UINT numDescriptors = (objCount + 1) * gNumFrameResources;}}
\DoxyCodeLine{00819 \textcolor{comment}{//}}
\DoxyCodeLine{00820 \textcolor{comment}{//}}
\DoxyCodeLine{00821 \textcolor{comment}{//}}
\DoxyCodeLine{00822 \textcolor{comment}{//  // Save an offset to the start of the pass CBVs.  These are the last 3 descriptors.}}
\DoxyCodeLine{00823 \textcolor{comment}{//}}
\DoxyCodeLine{00824 \textcolor{comment}{//  mPassCbvOffset = objCount * gNumFrameResources;}}
\DoxyCodeLine{00825 \textcolor{comment}{//}}
\DoxyCodeLine{00826 \textcolor{comment}{//}}
\DoxyCodeLine{00827 \textcolor{comment}{//}}
\DoxyCodeLine{00828 \textcolor{comment}{//  D3D12\_DESCRIPTOR\_HEAP\_DESC cbvHeapDesc;}}
\DoxyCodeLine{00829 \textcolor{comment}{//}}
\DoxyCodeLine{00830 \textcolor{comment}{//  cbvHeapDesc.NumDescriptors = numDescriptors;}}
\DoxyCodeLine{00831 \textcolor{comment}{//}}
\DoxyCodeLine{00832 \textcolor{comment}{//  cbvHeapDesc.Type = D3D12\_DESCRIPTOR\_HEAP\_TYPE\_CBV\_SRV\_UAV;}}
\DoxyCodeLine{00833 \textcolor{comment}{//}}
\DoxyCodeLine{00834 \textcolor{comment}{//  cbvHeapDesc.Flags = D3D12\_DESCRIPTOR\_HEAP\_FLAG\_SHADER\_VISIBLE;}}
\DoxyCodeLine{00835 \textcolor{comment}{//}}
\DoxyCodeLine{00836 \textcolor{comment}{//  cbvHeapDesc.NodeMask = 0;}}
\DoxyCodeLine{00837 \textcolor{comment}{//}}
\DoxyCodeLine{00838 \textcolor{comment}{//  ThrowIfFailed(md3dDevice-\/>CreateDescriptorHeap(\&cbvHeapDesc,}}
\DoxyCodeLine{00839 \textcolor{comment}{//}}
\DoxyCodeLine{00840 \textcolor{comment}{//      IID\_PPV\_ARGS(\&mCbvHeap)));}}
\DoxyCodeLine{00841 \textcolor{comment}{//}}
\DoxyCodeLine{00842 \textcolor{comment}{//\}}}
\DoxyCodeLine{00843 \textcolor{comment}{//}}
\DoxyCodeLine{00844 \textcolor{comment}{//}}
\DoxyCodeLine{00845 \textcolor{comment}{//}}
\DoxyCodeLine{00846 \textcolor{comment}{//void ShapesApp::BuildConstantBufferViews()}}
\DoxyCodeLine{00847 \textcolor{comment}{//}}
\DoxyCodeLine{00848 \textcolor{comment}{//\{}}
\DoxyCodeLine{00849 \textcolor{comment}{//}}
\DoxyCodeLine{00850 \textcolor{comment}{//  UINT objCBByteSize = d3dUtil::CalcConstantBufferByteSize(sizeof(ObjectConstants));}}
\DoxyCodeLine{00851 \textcolor{comment}{//}}
\DoxyCodeLine{00852 \textcolor{comment}{//}}
\DoxyCodeLine{00853 \textcolor{comment}{//}}
\DoxyCodeLine{00854 \textcolor{comment}{//  UINT objCount = (UINT)mOpaqueRitems.size();}}
\DoxyCodeLine{00855 \textcolor{comment}{//}}
\DoxyCodeLine{00856 \textcolor{comment}{//}}
\DoxyCodeLine{00857 \textcolor{comment}{//}}
\DoxyCodeLine{00858 \textcolor{comment}{//  // Need a CBV descriptor for each object for each frame resource.}}
\DoxyCodeLine{00859 \textcolor{comment}{//}}
\DoxyCodeLine{00860 \textcolor{comment}{//  for (int frameIndex = 0; frameIndex < gNumFrameResources; ++frameIndex)}}
\DoxyCodeLine{00861 \textcolor{comment}{//}}
\DoxyCodeLine{00862 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00863 \textcolor{comment}{//}}
\DoxyCodeLine{00864 \textcolor{comment}{//      auto objectCB = mFrameResources[frameIndex]-\/>ObjectCB-\/>Resource();}}
\DoxyCodeLine{00865 \textcolor{comment}{//}}
\DoxyCodeLine{00866 \textcolor{comment}{//      for (UINT i = 0; i < objCount; ++i)}}
\DoxyCodeLine{00867 \textcolor{comment}{//}}
\DoxyCodeLine{00868 \textcolor{comment}{//      \{}}
\DoxyCodeLine{00869 \textcolor{comment}{//}}
\DoxyCodeLine{00870 \textcolor{comment}{//          D3D12\_GPU\_VIRTUAL\_ADDRESS cbAddress = objectCB-\/>GetGPUVirtualAddress();}}
\DoxyCodeLine{00871 \textcolor{comment}{//}}
\DoxyCodeLine{00872 \textcolor{comment}{//}}
\DoxyCodeLine{00873 \textcolor{comment}{//}}
\DoxyCodeLine{00874 \textcolor{comment}{//          // Offset to the ith object constant buffer in the buffer.}}
\DoxyCodeLine{00875 \textcolor{comment}{//}}
\DoxyCodeLine{00876 \textcolor{comment}{//          cbAddress += i * objCBByteSize;}}
\DoxyCodeLine{00877 \textcolor{comment}{//}}
\DoxyCodeLine{00878 \textcolor{comment}{//}}
\DoxyCodeLine{00879 \textcolor{comment}{//}}
\DoxyCodeLine{00880 \textcolor{comment}{//          // Offset to the object cbv in the descriptor heap.}}
\DoxyCodeLine{00881 \textcolor{comment}{//}}
\DoxyCodeLine{00882 \textcolor{comment}{//          int heapIndex = frameIndex * objCount + i;}}
\DoxyCodeLine{00883 \textcolor{comment}{//}}
\DoxyCodeLine{00884 \textcolor{comment}{//          auto handle = CD3DX12\_CPU\_DESCRIPTOR\_HANDLE(mCbvHeap-\/>GetCPUDescriptorHandleForHeapStart());}}
\DoxyCodeLine{00885 \textcolor{comment}{//}}
\DoxyCodeLine{00886 \textcolor{comment}{//          handle.Offset(heapIndex, mCbvSrvUavDescriptorSize);}}
\DoxyCodeLine{00887 \textcolor{comment}{//}}
\DoxyCodeLine{00888 \textcolor{comment}{//}}
\DoxyCodeLine{00889 \textcolor{comment}{//}}
\DoxyCodeLine{00890 \textcolor{comment}{//          D3D12\_CONSTANT\_BUFFER\_VIEW\_DESC cbvDesc;}}
\DoxyCodeLine{00891 \textcolor{comment}{//}}
\DoxyCodeLine{00892 \textcolor{comment}{//          cbvDesc.BufferLocation = cbAddress;}}
\DoxyCodeLine{00893 \textcolor{comment}{//}}
\DoxyCodeLine{00894 \textcolor{comment}{//          cbvDesc.SizeInBytes = objCBByteSize;}}
\DoxyCodeLine{00895 \textcolor{comment}{//}}
\DoxyCodeLine{00896 \textcolor{comment}{//}}
\DoxyCodeLine{00897 \textcolor{comment}{//}}
\DoxyCodeLine{00898 \textcolor{comment}{//          md3dDevice-\/>CreateConstantBufferView(\&cbvDesc, handle);}}
\DoxyCodeLine{00899 \textcolor{comment}{//}}
\DoxyCodeLine{00900 \textcolor{comment}{//      \}}}
\DoxyCodeLine{00901 \textcolor{comment}{//}}
\DoxyCodeLine{00902 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00903 \textcolor{comment}{//}}
\DoxyCodeLine{00904 \textcolor{comment}{//}}
\DoxyCodeLine{00905 \textcolor{comment}{//}}
\DoxyCodeLine{00906 \textcolor{comment}{//  UINT passCBByteSize = d3dUtil::CalcConstantBufferByteSize(sizeof(PassConstants));}}
\DoxyCodeLine{00907 \textcolor{comment}{//}}
\DoxyCodeLine{00908 \textcolor{comment}{//}}
\DoxyCodeLine{00909 \textcolor{comment}{//}}
\DoxyCodeLine{00910 \textcolor{comment}{//  // Last three descriptors are the pass CBVs for each frame resource.}}
\DoxyCodeLine{00911 \textcolor{comment}{//}}
\DoxyCodeLine{00912 \textcolor{comment}{//  for (int frameIndex = 0; frameIndex < gNumFrameResources; ++frameIndex)}}
\DoxyCodeLine{00913 \textcolor{comment}{//}}
\DoxyCodeLine{00914 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00915 \textcolor{comment}{//}}
\DoxyCodeLine{00916 \textcolor{comment}{//      auto passCB = mFrameResources[frameIndex]-\/>PassCB-\/>Resource();}}
\DoxyCodeLine{00917 \textcolor{comment}{//}}
\DoxyCodeLine{00918 \textcolor{comment}{//      D3D12\_GPU\_VIRTUAL\_ADDRESS cbAddress = passCB-\/>GetGPUVirtualAddress();}}
\DoxyCodeLine{00919 \textcolor{comment}{//}}
\DoxyCodeLine{00920 \textcolor{comment}{//}}
\DoxyCodeLine{00921 \textcolor{comment}{//}}
\DoxyCodeLine{00922 \textcolor{comment}{//      // Offset to the pass cbv in the descriptor heap.}}
\DoxyCodeLine{00923 \textcolor{comment}{//}}
\DoxyCodeLine{00924 \textcolor{comment}{//      int heapIndex = mPassCbvOffset + frameIndex;}}
\DoxyCodeLine{00925 \textcolor{comment}{//}}
\DoxyCodeLine{00926 \textcolor{comment}{//      auto handle = CD3DX12\_CPU\_DESCRIPTOR\_HANDLE(mCbvHeap-\/>GetCPUDescriptorHandleForHeapStart());}}
\DoxyCodeLine{00927 \textcolor{comment}{//}}
\DoxyCodeLine{00928 \textcolor{comment}{//      handle.Offset(heapIndex, mCbvSrvUavDescriptorSize);}}
\DoxyCodeLine{00929 \textcolor{comment}{//}}
\DoxyCodeLine{00930 \textcolor{comment}{//}}
\DoxyCodeLine{00931 \textcolor{comment}{//}}
\DoxyCodeLine{00932 \textcolor{comment}{//      D3D12\_CONSTANT\_BUFFER\_VIEW\_DESC cbvDesc;}}
\DoxyCodeLine{00933 \textcolor{comment}{//}}
\DoxyCodeLine{00934 \textcolor{comment}{//      cbvDesc.BufferLocation = cbAddress;}}
\DoxyCodeLine{00935 \textcolor{comment}{//}}
\DoxyCodeLine{00936 \textcolor{comment}{//      cbvDesc.SizeInBytes = passCBByteSize;}}
\DoxyCodeLine{00937 \textcolor{comment}{//}}
\DoxyCodeLine{00938 \textcolor{comment}{//}}
\DoxyCodeLine{00939 \textcolor{comment}{//}}
\DoxyCodeLine{00940 \textcolor{comment}{//      md3dDevice-\/>CreateConstantBufferView(\&cbvDesc, handle);}}
\DoxyCodeLine{00941 \textcolor{comment}{//}}
\DoxyCodeLine{00942 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00943 \textcolor{comment}{//}}
\DoxyCodeLine{00944 \textcolor{comment}{//\}}}
\DoxyCodeLine{00945 \textcolor{comment}{//}}
\DoxyCodeLine{00946 \textcolor{comment}{//}}
\DoxyCodeLine{00947 \textcolor{comment}{//}}
\DoxyCodeLine{00948 \textcolor{comment}{//void ShapesApp::BuildRootSignature()}}
\DoxyCodeLine{00949 \textcolor{comment}{//}}
\DoxyCodeLine{00950 \textcolor{comment}{//\{}}
\DoxyCodeLine{00951 \textcolor{comment}{//  CD3DX12\_ROOT\_PARAMETER slotRootParameter[2];}}
\DoxyCodeLine{00952 \textcolor{comment}{//}}
\DoxyCodeLine{00953 \textcolor{comment}{//  //step1: Replace Descriptor Table with Root Descriptor}}
\DoxyCodeLine{00954 \textcolor{comment}{//  //CD3DX12\_DESCRIPTOR\_RANGE cbvTable0;}}
\DoxyCodeLine{00955 \textcolor{comment}{//  //cbvTable0.Init(D3D12\_DESCRIPTOR\_RANGE\_TYPE\_CBV, 1, 0);}}
\DoxyCodeLine{00956 \textcolor{comment}{//  //CD3DX12\_DESCRIPTOR\_RANGE cbvTable1;}}
\DoxyCodeLine{00957 \textcolor{comment}{//  //cbvTable1.Init(D3D12\_DESCRIPTOR\_RANGE\_TYPE\_CBV, 1, 1);}}
\DoxyCodeLine{00958 \textcolor{comment}{//}}
\DoxyCodeLine{00959 \textcolor{comment}{//  // Root parameter can be a table, root descriptor or root constants.}}
\DoxyCodeLine{00960 \textcolor{comment}{//}}
\DoxyCodeLine{00961 \textcolor{comment}{//  // Create root CBVs.}}
\DoxyCodeLine{00962 \textcolor{comment}{//}}
\DoxyCodeLine{00963 \textcolor{comment}{//  //slotRootParameter[0].InitAsDescriptorTable(1, \&cbvTable0);}}
\DoxyCodeLine{00964 \textcolor{comment}{//  //slotRootParameter[1].InitAsDescriptorTable(1, \&cbvTable1);}}
\DoxyCodeLine{00965 \textcolor{comment}{//  slotRootParameter[0].InitAsConstantBufferView(0); // per -\/ object CBV}}
\DoxyCodeLine{00966 \textcolor{comment}{//  slotRootParameter[1].InitAsConstantBufferView(1); // per -\/ pass CBV}}
\DoxyCodeLine{00967 \textcolor{comment}{//}}
\DoxyCodeLine{00968 \textcolor{comment}{//}}
\DoxyCodeLine{00969 \textcolor{comment}{//}}
\DoxyCodeLine{00970 \textcolor{comment}{//  // A root signature is an array of root parameters.}}
\DoxyCodeLine{00971 \textcolor{comment}{//}}
\DoxyCodeLine{00972 \textcolor{comment}{//  CD3DX12\_ROOT\_SIGNATURE\_DESC rootSigDesc(2, slotRootParameter, 0, nullptr,}}
\DoxyCodeLine{00973 \textcolor{comment}{//}}
\DoxyCodeLine{00974 \textcolor{comment}{//      D3D12\_ROOT\_SIGNATURE\_FLAG\_ALLOW\_INPUT\_ASSEMBLER\_INPUT\_LAYOUT);}}
\DoxyCodeLine{00975 \textcolor{comment}{//}}
\DoxyCodeLine{00976 \textcolor{comment}{//}}
\DoxyCodeLine{00977 \textcolor{comment}{//}}
\DoxyCodeLine{00978 \textcolor{comment}{//  // create a root signature with a single slot which points to a descriptor range consisting of a single constant buffer}}
\DoxyCodeLine{00979 \textcolor{comment}{//}}
\DoxyCodeLine{00980 \textcolor{comment}{//  ComPtr<ID3DBlob> serializedRootSig = nullptr;}}
\DoxyCodeLine{00981 \textcolor{comment}{//}}
\DoxyCodeLine{00982 \textcolor{comment}{//  ComPtr<ID3DBlob> errorBlob = nullptr;}}
\DoxyCodeLine{00983 \textcolor{comment}{//}}
\DoxyCodeLine{00984 \textcolor{comment}{//  HRESULT hr = D3D12SerializeRootSignature(\&rootSigDesc, D3D\_ROOT\_SIGNATURE\_VERSION\_1,}}
\DoxyCodeLine{00985 \textcolor{comment}{//}}
\DoxyCodeLine{00986 \textcolor{comment}{//      serializedRootSig.GetAddressOf(), errorBlob.GetAddressOf());}}
\DoxyCodeLine{00987 \textcolor{comment}{//}}
\DoxyCodeLine{00988 \textcolor{comment}{//}}
\DoxyCodeLine{00989 \textcolor{comment}{//}}
\DoxyCodeLine{00990 \textcolor{comment}{//  if (errorBlob != nullptr)}}
\DoxyCodeLine{00991 \textcolor{comment}{//}}
\DoxyCodeLine{00992 \textcolor{comment}{//  \{}}
\DoxyCodeLine{00993 \textcolor{comment}{//}}
\DoxyCodeLine{00994 \textcolor{comment}{//      ::OutputDebugStringA((char*)errorBlob-\/>GetBufferPointer());}}
\DoxyCodeLine{00995 \textcolor{comment}{//}}
\DoxyCodeLine{00996 \textcolor{comment}{//  \}}}
\DoxyCodeLine{00997 \textcolor{comment}{//}}
\DoxyCodeLine{00998 \textcolor{comment}{//  ThrowIfFailed(hr);}}
\DoxyCodeLine{00999 \textcolor{comment}{//}}
\DoxyCodeLine{01000 \textcolor{comment}{//}}
\DoxyCodeLine{01001 \textcolor{comment}{//}}
\DoxyCodeLine{01002 \textcolor{comment}{//  ThrowIfFailed(md3dDevice-\/>CreateRootSignature(}}
\DoxyCodeLine{01003 \textcolor{comment}{//}}
\DoxyCodeLine{01004 \textcolor{comment}{//      0,}}
\DoxyCodeLine{01005 \textcolor{comment}{//}}
\DoxyCodeLine{01006 \textcolor{comment}{//      serializedRootSig-\/>GetBufferPointer(),}}
\DoxyCodeLine{01007 \textcolor{comment}{//}}
\DoxyCodeLine{01008 \textcolor{comment}{//      serializedRootSig-\/>GetBufferSize(),}}
\DoxyCodeLine{01009 \textcolor{comment}{//}}
\DoxyCodeLine{01010 \textcolor{comment}{//      IID\_PPV\_ARGS(mRootSignature.GetAddressOf())));}}
\DoxyCodeLine{01011 \textcolor{comment}{//}}
\DoxyCodeLine{01012 \textcolor{comment}{//\}}}
\DoxyCodeLine{01013 \textcolor{comment}{//}}
\DoxyCodeLine{01014 \textcolor{comment}{//}}
\DoxyCodeLine{01015 \textcolor{comment}{//}}
\DoxyCodeLine{01016 \textcolor{comment}{//void ShapesApp::BuildShadersAndInputLayout()}}
\DoxyCodeLine{01017 \textcolor{comment}{//}}
\DoxyCodeLine{01018 \textcolor{comment}{//\{}}
\DoxyCodeLine{01019 \textcolor{comment}{//}}
\DoxyCodeLine{01020 \textcolor{comment}{//  mShaders["{}standardVS"{}] = d3dUtil::CompileShader(L"{}Shaders\(\backslash\)\(\backslash\)color.hlsl"{}, nullptr, "{}VS"{}, "{}vs\_5\_1"{});}}
\DoxyCodeLine{01021 \textcolor{comment}{//}}
\DoxyCodeLine{01022 \textcolor{comment}{//  mShaders["{}opaquePS"{}] = d3dUtil::CompileShader(L"{}Shaders\(\backslash\)\(\backslash\)color.hlsl"{}, nullptr, "{}PS"{}, "{}ps\_5\_1"{});}}
\DoxyCodeLine{01023 \textcolor{comment}{//}}
\DoxyCodeLine{01024 \textcolor{comment}{//}}
\DoxyCodeLine{01025 \textcolor{comment}{//}}
\DoxyCodeLine{01026 \textcolor{comment}{//  mInputLayout =}}
\DoxyCodeLine{01027 \textcolor{comment}{//}}
\DoxyCodeLine{01028 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01029 \textcolor{comment}{//}}
\DoxyCodeLine{01030 \textcolor{comment}{//      \{ "{}POSITION"{}, 0, DXGI\_FORMAT\_R32G32B32\_FLOAT, 0, 0, D3D12\_INPUT\_CLASSIFICATION\_PER\_VERTEX\_DATA, 0 \},}}
\DoxyCodeLine{01031 \textcolor{comment}{//}}
\DoxyCodeLine{01032 \textcolor{comment}{//      \{ "{}COLOR"{}, 0, DXGI\_FORMAT\_R32G32B32A32\_FLOAT, 0, 12, D3D12\_INPUT\_CLASSIFICATION\_PER\_VERTEX\_DATA, 0 \},}}
\DoxyCodeLine{01033 \textcolor{comment}{//}}
\DoxyCodeLine{01034 \textcolor{comment}{//  \};}}
\DoxyCodeLine{01035 \textcolor{comment}{//}}
\DoxyCodeLine{01036 \textcolor{comment}{//\}}}
\DoxyCodeLine{01037 \textcolor{comment}{//}}
\DoxyCodeLine{01038 \textcolor{comment}{//}}
\DoxyCodeLine{01039 \textcolor{comment}{//}}
\DoxyCodeLine{01040 \textcolor{comment}{//void ShapesApp::BuildShapeGeometry()}}
\DoxyCodeLine{01041 \textcolor{comment}{//}}
\DoxyCodeLine{01042 \textcolor{comment}{//\{}}
\DoxyCodeLine{01043 \textcolor{comment}{//}}
\DoxyCodeLine{01044 \textcolor{comment}{//  GeometryGenerator geoGen;}}
\DoxyCodeLine{01045 \textcolor{comment}{//}}
\DoxyCodeLine{01046 \textcolor{comment}{//  GeometryGenerator::MeshData box = geoGen.CreateBox(1.0f, 1.0f, 1.0f, 0);}}
\DoxyCodeLine{01047 \textcolor{comment}{//}}
\DoxyCodeLine{01048 \textcolor{comment}{//  GeometryGenerator::MeshData grid = geoGen.CreateGrid(20.0f, 30.0f, 60, 40);}}
\DoxyCodeLine{01049 \textcolor{comment}{//}}
\DoxyCodeLine{01050 \textcolor{comment}{//  GeometryGenerator::MeshData sphere = geoGen.CreateSphere(0.5f, 20, 20);}}
\DoxyCodeLine{01051 \textcolor{comment}{//}}
\DoxyCodeLine{01052 \textcolor{comment}{//  GeometryGenerator::MeshData cylinder = geoGen.CreateCylinder(0.5f, 0.3f, 3.0f, 20, 20);}}
\DoxyCodeLine{01053 \textcolor{comment}{//}}
\DoxyCodeLine{01054 \textcolor{comment}{//}}
\DoxyCodeLine{01055 \textcolor{comment}{//}}
\DoxyCodeLine{01056 \textcolor{comment}{//  //}}
\DoxyCodeLine{01057 \textcolor{comment}{//}}
\DoxyCodeLine{01058 \textcolor{comment}{//  // We are concatenating all the geometry into one big vertex/index buffer.  So}}
\DoxyCodeLine{01059 \textcolor{comment}{//}}
\DoxyCodeLine{01060 \textcolor{comment}{//  // define the regions in the buffer each submesh covers.}}
\DoxyCodeLine{01061 \textcolor{comment}{//}}
\DoxyCodeLine{01062 \textcolor{comment}{//  //}}
\DoxyCodeLine{01063 \textcolor{comment}{//}}
\DoxyCodeLine{01064 \textcolor{comment}{//}}
\DoxyCodeLine{01065 \textcolor{comment}{//}}
\DoxyCodeLine{01066 \textcolor{comment}{//  // Cache the vertex offsets to each object in the concatenated vertex buffer.}}
\DoxyCodeLine{01067 \textcolor{comment}{//}}
\DoxyCodeLine{01068 \textcolor{comment}{//  UINT boxVertexOffset = 0;}}
\DoxyCodeLine{01069 \textcolor{comment}{//}}
\DoxyCodeLine{01070 \textcolor{comment}{//  UINT gridVertexOffset = (UINT)box.Vertices.size();}}
\DoxyCodeLine{01071 \textcolor{comment}{//}}
\DoxyCodeLine{01072 \textcolor{comment}{//  UINT sphereVertexOffset = gridVertexOffset + (UINT)grid.Vertices.size();}}
\DoxyCodeLine{01073 \textcolor{comment}{//}}
\DoxyCodeLine{01074 \textcolor{comment}{//  UINT cylinderVertexOffset = sphereVertexOffset + (UINT)sphere.Vertices.size();}}
\DoxyCodeLine{01075 \textcolor{comment}{//}}
\DoxyCodeLine{01076 \textcolor{comment}{//}}
\DoxyCodeLine{01077 \textcolor{comment}{//}}
\DoxyCodeLine{01078 \textcolor{comment}{//  // Cache the starting index for each object in the concatenated index buffer.}}
\DoxyCodeLine{01079 \textcolor{comment}{//}}
\DoxyCodeLine{01080 \textcolor{comment}{//  UINT boxIndexOffset = 0;}}
\DoxyCodeLine{01081 \textcolor{comment}{//}}
\DoxyCodeLine{01082 \textcolor{comment}{//  UINT gridIndexOffset = (UINT)box.Indices32.size();}}
\DoxyCodeLine{01083 \textcolor{comment}{//}}
\DoxyCodeLine{01084 \textcolor{comment}{//  UINT sphereIndexOffset = gridIndexOffset + (UINT)grid.Indices32.size();}}
\DoxyCodeLine{01085 \textcolor{comment}{//}}
\DoxyCodeLine{01086 \textcolor{comment}{//  UINT cylinderIndexOffset = sphereIndexOffset + (UINT)sphere.Indices32.size();}}
\DoxyCodeLine{01087 \textcolor{comment}{//}}
\DoxyCodeLine{01088 \textcolor{comment}{//}}
\DoxyCodeLine{01089 \textcolor{comment}{//}}
\DoxyCodeLine{01090 \textcolor{comment}{//  // Define the SubmeshGeometry that cover different}}
\DoxyCodeLine{01091 \textcolor{comment}{//}}
\DoxyCodeLine{01092 \textcolor{comment}{//  // regions of the vertex/index buffers.}}
\DoxyCodeLine{01093 \textcolor{comment}{//}}
\DoxyCodeLine{01094 \textcolor{comment}{//}}
\DoxyCodeLine{01095 \textcolor{comment}{//}}
\DoxyCodeLine{01096 \textcolor{comment}{//  SubmeshGeometry boxSubmesh;}}
\DoxyCodeLine{01097 \textcolor{comment}{//}}
\DoxyCodeLine{01098 \textcolor{comment}{//  boxSubmesh.IndexCount = (UINT)box.Indices32.size();}}
\DoxyCodeLine{01099 \textcolor{comment}{//}}
\DoxyCodeLine{01100 \textcolor{comment}{//  boxSubmesh.StartIndexLocation = boxIndexOffset;}}
\DoxyCodeLine{01101 \textcolor{comment}{//}}
\DoxyCodeLine{01102 \textcolor{comment}{//  boxSubmesh.BaseVertexLocation = boxVertexOffset;}}
\DoxyCodeLine{01103 \textcolor{comment}{//}}
\DoxyCodeLine{01104 \textcolor{comment}{//}}
\DoxyCodeLine{01105 \textcolor{comment}{//}}
\DoxyCodeLine{01106 \textcolor{comment}{//  SubmeshGeometry gridSubmesh;}}
\DoxyCodeLine{01107 \textcolor{comment}{//}}
\DoxyCodeLine{01108 \textcolor{comment}{//  gridSubmesh.IndexCount = (UINT)grid.Indices32.size();}}
\DoxyCodeLine{01109 \textcolor{comment}{//}}
\DoxyCodeLine{01110 \textcolor{comment}{//  gridSubmesh.StartIndexLocation = gridIndexOffset;}}
\DoxyCodeLine{01111 \textcolor{comment}{//}}
\DoxyCodeLine{01112 \textcolor{comment}{//  gridSubmesh.BaseVertexLocation = gridVertexOffset;}}
\DoxyCodeLine{01113 \textcolor{comment}{//}}
\DoxyCodeLine{01114 \textcolor{comment}{//}}
\DoxyCodeLine{01115 \textcolor{comment}{//}}
\DoxyCodeLine{01116 \textcolor{comment}{//  SubmeshGeometry sphereSubmesh;}}
\DoxyCodeLine{01117 \textcolor{comment}{//}}
\DoxyCodeLine{01118 \textcolor{comment}{//  sphereSubmesh.IndexCount = (UINT)sphere.Indices32.size();}}
\DoxyCodeLine{01119 \textcolor{comment}{//}}
\DoxyCodeLine{01120 \textcolor{comment}{//  sphereSubmesh.StartIndexLocation = sphereIndexOffset;}}
\DoxyCodeLine{01121 \textcolor{comment}{//}}
\DoxyCodeLine{01122 \textcolor{comment}{//  sphereSubmesh.BaseVertexLocation = sphereVertexOffset;}}
\DoxyCodeLine{01123 \textcolor{comment}{//}}
\DoxyCodeLine{01124 \textcolor{comment}{//}}
\DoxyCodeLine{01125 \textcolor{comment}{//}}
\DoxyCodeLine{01126 \textcolor{comment}{//  SubmeshGeometry cylinderSubmesh;}}
\DoxyCodeLine{01127 \textcolor{comment}{//}}
\DoxyCodeLine{01128 \textcolor{comment}{//  cylinderSubmesh.IndexCount = (UINT)cylinder.Indices32.size();}}
\DoxyCodeLine{01129 \textcolor{comment}{//}}
\DoxyCodeLine{01130 \textcolor{comment}{//  cylinderSubmesh.StartIndexLocation = cylinderIndexOffset;}}
\DoxyCodeLine{01131 \textcolor{comment}{//}}
\DoxyCodeLine{01132 \textcolor{comment}{//  cylinderSubmesh.BaseVertexLocation = cylinderVertexOffset;}}
\DoxyCodeLine{01133 \textcolor{comment}{//}}
\DoxyCodeLine{01134 \textcolor{comment}{//}}
\DoxyCodeLine{01135 \textcolor{comment}{//}}
\DoxyCodeLine{01136 \textcolor{comment}{//  //}}
\DoxyCodeLine{01137 \textcolor{comment}{//}}
\DoxyCodeLine{01138 \textcolor{comment}{//  // Extract the vertex elements we are interested in and pack the}}
\DoxyCodeLine{01139 \textcolor{comment}{//}}
\DoxyCodeLine{01140 \textcolor{comment}{//  // vertices of all the meshes into one vertex buffer.}}
\DoxyCodeLine{01141 \textcolor{comment}{//}}
\DoxyCodeLine{01142 \textcolor{comment}{//  //}}
\DoxyCodeLine{01143 \textcolor{comment}{//}}
\DoxyCodeLine{01144 \textcolor{comment}{//}}
\DoxyCodeLine{01145 \textcolor{comment}{//}}
\DoxyCodeLine{01146 \textcolor{comment}{//  auto totalVertexCount =}}
\DoxyCodeLine{01147 \textcolor{comment}{//}}
\DoxyCodeLine{01148 \textcolor{comment}{//      box.Vertices.size() +}}
\DoxyCodeLine{01149 \textcolor{comment}{//}}
\DoxyCodeLine{01150 \textcolor{comment}{//      grid.Vertices.size() +}}
\DoxyCodeLine{01151 \textcolor{comment}{//}}
\DoxyCodeLine{01152 \textcolor{comment}{//      sphere.Vertices.size() +}}
\DoxyCodeLine{01153 \textcolor{comment}{//}}
\DoxyCodeLine{01154 \textcolor{comment}{//      cylinder.Vertices.size();}}
\DoxyCodeLine{01155 \textcolor{comment}{//}}
\DoxyCodeLine{01156 \textcolor{comment}{//}}
\DoxyCodeLine{01157 \textcolor{comment}{//}}
\DoxyCodeLine{01158 \textcolor{comment}{//  std::vector<Vertex> vertices(totalVertexCount);}}
\DoxyCodeLine{01159 \textcolor{comment}{//}}
\DoxyCodeLine{01160 \textcolor{comment}{//}}
\DoxyCodeLine{01161 \textcolor{comment}{//}}
\DoxyCodeLine{01162 \textcolor{comment}{//  UINT k = 0;}}
\DoxyCodeLine{01163 \textcolor{comment}{//}}
\DoxyCodeLine{01164 \textcolor{comment}{//  for (size\_t i = 0; i < box.Vertices.size(); ++i, ++k)}}
\DoxyCodeLine{01165 \textcolor{comment}{//}}
\DoxyCodeLine{01166 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01167 \textcolor{comment}{//}}
\DoxyCodeLine{01168 \textcolor{comment}{//      vertices[k].Pos = box.Vertices[i].Position;}}
\DoxyCodeLine{01169 \textcolor{comment}{//}}
\DoxyCodeLine{01170 \textcolor{comment}{//      vertices[k].Color = XMFLOAT4(DirectX::Colors::Gold);}}
\DoxyCodeLine{01171 \textcolor{comment}{//}}
\DoxyCodeLine{01172 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01173 \textcolor{comment}{//}}
\DoxyCodeLine{01174 \textcolor{comment}{//}}
\DoxyCodeLine{01175 \textcolor{comment}{//}}
\DoxyCodeLine{01176 \textcolor{comment}{//  for (size\_t i = 0; i < grid.Vertices.size(); ++i, ++k)}}
\DoxyCodeLine{01177 \textcolor{comment}{//}}
\DoxyCodeLine{01178 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01179 \textcolor{comment}{//}}
\DoxyCodeLine{01180 \textcolor{comment}{//      vertices[k].Pos = grid.Vertices[i].Position;}}
\DoxyCodeLine{01181 \textcolor{comment}{//}}
\DoxyCodeLine{01182 \textcolor{comment}{//      vertices[k].Color = XMFLOAT4(DirectX::Colors::ForestGreen);}}
\DoxyCodeLine{01183 \textcolor{comment}{//}}
\DoxyCodeLine{01184 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01185 \textcolor{comment}{//}}
\DoxyCodeLine{01186 \textcolor{comment}{//}}
\DoxyCodeLine{01187 \textcolor{comment}{//}}
\DoxyCodeLine{01188 \textcolor{comment}{//  for (size\_t i = 0; i < sphere.Vertices.size(); ++i, ++k)}}
\DoxyCodeLine{01189 \textcolor{comment}{//}}
\DoxyCodeLine{01190 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01191 \textcolor{comment}{//}}
\DoxyCodeLine{01192 \textcolor{comment}{//      vertices[k].Pos = sphere.Vertices[i].Position;}}
\DoxyCodeLine{01193 \textcolor{comment}{//}}
\DoxyCodeLine{01194 \textcolor{comment}{//      vertices[k].Color = XMFLOAT4(DirectX::Colors::Crimson);}}
\DoxyCodeLine{01195 \textcolor{comment}{//}}
\DoxyCodeLine{01196 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01197 \textcolor{comment}{//}}
\DoxyCodeLine{01198 \textcolor{comment}{//}}
\DoxyCodeLine{01199 \textcolor{comment}{//}}
\DoxyCodeLine{01200 \textcolor{comment}{//  for (size\_t i = 0; i < cylinder.Vertices.size(); ++i, ++k)}}
\DoxyCodeLine{01201 \textcolor{comment}{//}}
\DoxyCodeLine{01202 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01203 \textcolor{comment}{//}}
\DoxyCodeLine{01204 \textcolor{comment}{//      vertices[k].Pos = cylinder.Vertices[i].Position;}}
\DoxyCodeLine{01205 \textcolor{comment}{//}}
\DoxyCodeLine{01206 \textcolor{comment}{//      vertices[k].Color = XMFLOAT4(DirectX::Colors::SteelBlue);}}
\DoxyCodeLine{01207 \textcolor{comment}{//}}
\DoxyCodeLine{01208 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01209 \textcolor{comment}{//}}
\DoxyCodeLine{01210 \textcolor{comment}{//}}
\DoxyCodeLine{01211 \textcolor{comment}{//}}
\DoxyCodeLine{01212 \textcolor{comment}{//  std::vector<std::uint16\_t> indices;}}
\DoxyCodeLine{01213 \textcolor{comment}{//}}
\DoxyCodeLine{01214 \textcolor{comment}{//  indices.insert(indices.end(), std::begin(box.GetIndices16()), std::end(box.GetIndices16()));}}
\DoxyCodeLine{01215 \textcolor{comment}{//}}
\DoxyCodeLine{01216 \textcolor{comment}{//  indices.insert(indices.end(), std::begin(grid.GetIndices16()), std::end(grid.GetIndices16()));}}
\DoxyCodeLine{01217 \textcolor{comment}{//}}
\DoxyCodeLine{01218 \textcolor{comment}{//  indices.insert(indices.end(), std::begin(sphere.GetIndices16()), std::end(sphere.GetIndices16()));}}
\DoxyCodeLine{01219 \textcolor{comment}{//}}
\DoxyCodeLine{01220 \textcolor{comment}{//  indices.insert(indices.end(), std::begin(cylinder.GetIndices16()), std::end(cylinder.GetIndices16()));}}
\DoxyCodeLine{01221 \textcolor{comment}{//}}
\DoxyCodeLine{01222 \textcolor{comment}{//}}
\DoxyCodeLine{01223 \textcolor{comment}{//}}
\DoxyCodeLine{01224 \textcolor{comment}{//  const UINT vbByteSize = (UINT)vertices.size() * sizeof(Vertex);}}
\DoxyCodeLine{01225 \textcolor{comment}{//}}
\DoxyCodeLine{01226 \textcolor{comment}{//  const UINT ibByteSize = (UINT)indices.size() * sizeof(std::uint16\_t);}}
\DoxyCodeLine{01227 \textcolor{comment}{//}}
\DoxyCodeLine{01228 \textcolor{comment}{//}}
\DoxyCodeLine{01229 \textcolor{comment}{//}}
\DoxyCodeLine{01230 \textcolor{comment}{//  auto geo = std::make\_unique<MeshGeometry>();}}
\DoxyCodeLine{01231 \textcolor{comment}{//}}
\DoxyCodeLine{01232 \textcolor{comment}{//  geo-\/>Name = "{}shapeGeo"{};}}
\DoxyCodeLine{01233 \textcolor{comment}{//}}
\DoxyCodeLine{01234 \textcolor{comment}{//}}
\DoxyCodeLine{01235 \textcolor{comment}{//}}
\DoxyCodeLine{01236 \textcolor{comment}{//  ThrowIfFailed(D3DCreateBlob(vbByteSize, \&geo-\/>VertexBufferCPU));}}
\DoxyCodeLine{01237 \textcolor{comment}{//}}
\DoxyCodeLine{01238 \textcolor{comment}{//  CopyMemory(geo-\/>VertexBufferCPU-\/>GetBufferPointer(), vertices.data(), vbByteSize);}}
\DoxyCodeLine{01239 \textcolor{comment}{//}}
\DoxyCodeLine{01240 \textcolor{comment}{//}}
\DoxyCodeLine{01241 \textcolor{comment}{//}}
\DoxyCodeLine{01242 \textcolor{comment}{//  ThrowIfFailed(D3DCreateBlob(ibByteSize, \&geo-\/>IndexBufferCPU));}}
\DoxyCodeLine{01243 \textcolor{comment}{//}}
\DoxyCodeLine{01244 \textcolor{comment}{//  CopyMemory(geo-\/>IndexBufferCPU-\/>GetBufferPointer(), indices.data(), ibByteSize);}}
\DoxyCodeLine{01245 \textcolor{comment}{//}}
\DoxyCodeLine{01246 \textcolor{comment}{//}}
\DoxyCodeLine{01247 \textcolor{comment}{//}}
\DoxyCodeLine{01248 \textcolor{comment}{//  geo-\/>VertexBufferGPU = d3dUtil::CreateDefaultBuffer(md3dDevice.Get(),}}
\DoxyCodeLine{01249 \textcolor{comment}{//}}
\DoxyCodeLine{01250 \textcolor{comment}{//      mCommandList.Get(), vertices.data(), vbByteSize, geo-\/>VertexBufferUploader);}}
\DoxyCodeLine{01251 \textcolor{comment}{//}}
\DoxyCodeLine{01252 \textcolor{comment}{//}}
\DoxyCodeLine{01253 \textcolor{comment}{//}}
\DoxyCodeLine{01254 \textcolor{comment}{//  geo-\/>IndexBufferGPU = d3dUtil::CreateDefaultBuffer(md3dDevice.Get(),}}
\DoxyCodeLine{01255 \textcolor{comment}{//}}
\DoxyCodeLine{01256 \textcolor{comment}{//      mCommandList.Get(), indices.data(), ibByteSize, geo-\/>IndexBufferUploader);}}
\DoxyCodeLine{01257 \textcolor{comment}{//}}
\DoxyCodeLine{01258 \textcolor{comment}{//}}
\DoxyCodeLine{01259 \textcolor{comment}{//}}
\DoxyCodeLine{01260 \textcolor{comment}{//  geo-\/>VertexByteStride = sizeof(Vertex);}}
\DoxyCodeLine{01261 \textcolor{comment}{//}}
\DoxyCodeLine{01262 \textcolor{comment}{//  geo-\/>VertexBufferByteSize = vbByteSize;}}
\DoxyCodeLine{01263 \textcolor{comment}{//}}
\DoxyCodeLine{01264 \textcolor{comment}{//  geo-\/>IndexFormat = DXGI\_FORMAT\_R16\_UINT;}}
\DoxyCodeLine{01265 \textcolor{comment}{//}}
\DoxyCodeLine{01266 \textcolor{comment}{//  geo-\/>IndexBufferByteSize = ibByteSize;}}
\DoxyCodeLine{01267 \textcolor{comment}{//}}
\DoxyCodeLine{01268 \textcolor{comment}{//}}
\DoxyCodeLine{01269 \textcolor{comment}{//}}
\DoxyCodeLine{01270 \textcolor{comment}{//  geo-\/>DrawArgs["{}box"{}] = boxSubmesh;}}
\DoxyCodeLine{01271 \textcolor{comment}{//}}
\DoxyCodeLine{01272 \textcolor{comment}{//  geo-\/>DrawArgs["{}grid"{}] = gridSubmesh;}}
\DoxyCodeLine{01273 \textcolor{comment}{//}}
\DoxyCodeLine{01274 \textcolor{comment}{//  geo-\/>DrawArgs["{}sphere"{}] = sphereSubmesh;}}
\DoxyCodeLine{01275 \textcolor{comment}{//}}
\DoxyCodeLine{01276 \textcolor{comment}{//  geo-\/>DrawArgs["{}cylinder"{}] = cylinderSubmesh;}}
\DoxyCodeLine{01277 \textcolor{comment}{//}}
\DoxyCodeLine{01278 \textcolor{comment}{//}}
\DoxyCodeLine{01279 \textcolor{comment}{//}}
\DoxyCodeLine{01280 \textcolor{comment}{//  mGeometries[geo-\/>Name] = std::move(geo);}}
\DoxyCodeLine{01281 \textcolor{comment}{//}}
\DoxyCodeLine{01282 \textcolor{comment}{//\}}}
\DoxyCodeLine{01283 \textcolor{comment}{//}}
\DoxyCodeLine{01284 \textcolor{comment}{//}}
\DoxyCodeLine{01285 \textcolor{comment}{//}}
\DoxyCodeLine{01286 \textcolor{comment}{//void ShapesApp::BuildPSOs()}}
\DoxyCodeLine{01287 \textcolor{comment}{//}}
\DoxyCodeLine{01288 \textcolor{comment}{//\{}}
\DoxyCodeLine{01289 \textcolor{comment}{//}}
\DoxyCodeLine{01290 \textcolor{comment}{//  D3D12\_GRAPHICS\_PIPELINE\_STATE\_DESC opaquePsoDesc;}}
\DoxyCodeLine{01291 \textcolor{comment}{//}}
\DoxyCodeLine{01292 \textcolor{comment}{//}}
\DoxyCodeLine{01293 \textcolor{comment}{//}}
\DoxyCodeLine{01294 \textcolor{comment}{//  //}}
\DoxyCodeLine{01295 \textcolor{comment}{//}}
\DoxyCodeLine{01296 \textcolor{comment}{//  // PSO for opaque objects.}}
\DoxyCodeLine{01297 \textcolor{comment}{//}}
\DoxyCodeLine{01298 \textcolor{comment}{//  //}}
\DoxyCodeLine{01299 \textcolor{comment}{//}}
\DoxyCodeLine{01300 \textcolor{comment}{//  ZeroMemory(\&opaquePsoDesc, sizeof(D3D12\_GRAPHICS\_PIPELINE\_STATE\_DESC));}}
\DoxyCodeLine{01301 \textcolor{comment}{//}}
\DoxyCodeLine{01302 \textcolor{comment}{//  opaquePsoDesc.InputLayout = \{ mInputLayout.data(), (UINT)mInputLayout.size() \};}}
\DoxyCodeLine{01303 \textcolor{comment}{//}}
\DoxyCodeLine{01304 \textcolor{comment}{//  opaquePsoDesc.pRootSignature = mRootSignature.Get();}}
\DoxyCodeLine{01305 \textcolor{comment}{//}}
\DoxyCodeLine{01306 \textcolor{comment}{//  opaquePsoDesc.VS =}}
\DoxyCodeLine{01307 \textcolor{comment}{//}}
\DoxyCodeLine{01308 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01309 \textcolor{comment}{//}}
\DoxyCodeLine{01310 \textcolor{comment}{//   reinterpret\_cast<BYTE*>(mShaders["{}standardVS"{}]-\/>GetBufferPointer()),}}
\DoxyCodeLine{01311 \textcolor{comment}{//}}
\DoxyCodeLine{01312 \textcolor{comment}{//   mShaders["{}standardVS"{}]-\/>GetBufferSize()}}
\DoxyCodeLine{01313 \textcolor{comment}{//}}
\DoxyCodeLine{01314 \textcolor{comment}{//  \};}}
\DoxyCodeLine{01315 \textcolor{comment}{//}}
\DoxyCodeLine{01316 \textcolor{comment}{//  opaquePsoDesc.PS =}}
\DoxyCodeLine{01317 \textcolor{comment}{//}}
\DoxyCodeLine{01318 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01319 \textcolor{comment}{//}}
\DoxyCodeLine{01320 \textcolor{comment}{//   reinterpret\_cast<BYTE*>(mShaders["{}opaquePS"{}]-\/>GetBufferPointer()),}}
\DoxyCodeLine{01321 \textcolor{comment}{//}}
\DoxyCodeLine{01322 \textcolor{comment}{//   mShaders["{}opaquePS"{}]-\/>GetBufferSize()}}
\DoxyCodeLine{01323 \textcolor{comment}{//}}
\DoxyCodeLine{01324 \textcolor{comment}{//  \};}}
\DoxyCodeLine{01325 \textcolor{comment}{//}}
\DoxyCodeLine{01326 \textcolor{comment}{//  opaquePsoDesc.RasterizerState = CD3DX12\_RASTERIZER\_DESC(D3D12\_DEFAULT);}}
\DoxyCodeLine{01327 \textcolor{comment}{//}}
\DoxyCodeLine{01328 \textcolor{comment}{//  opaquePsoDesc.RasterizerState.FillMode = D3D12\_FILL\_MODE\_SOLID;}}
\DoxyCodeLine{01329 \textcolor{comment}{//}}
\DoxyCodeLine{01330 \textcolor{comment}{//  opaquePsoDesc.BlendState = CD3DX12\_BLEND\_DESC(D3D12\_DEFAULT);}}
\DoxyCodeLine{01331 \textcolor{comment}{//}}
\DoxyCodeLine{01332 \textcolor{comment}{//  opaquePsoDesc.DepthStencilState = CD3DX12\_DEPTH\_STENCIL\_DESC(D3D12\_DEFAULT);}}
\DoxyCodeLine{01333 \textcolor{comment}{//}}
\DoxyCodeLine{01334 \textcolor{comment}{//  opaquePsoDesc.SampleMask = UINT\_MAX;}}
\DoxyCodeLine{01335 \textcolor{comment}{//}}
\DoxyCodeLine{01336 \textcolor{comment}{//  opaquePsoDesc.PrimitiveTopologyType = D3D12\_PRIMITIVE\_TOPOLOGY\_TYPE\_TRIANGLE;}}
\DoxyCodeLine{01337 \textcolor{comment}{//}}
\DoxyCodeLine{01338 \textcolor{comment}{//  opaquePsoDesc.NumRenderTargets = 1;}}
\DoxyCodeLine{01339 \textcolor{comment}{//}}
\DoxyCodeLine{01340 \textcolor{comment}{//  opaquePsoDesc.RTVFormats[0] = mBackBufferFormat;}}
\DoxyCodeLine{01341 \textcolor{comment}{//}}
\DoxyCodeLine{01342 \textcolor{comment}{//  opaquePsoDesc.SampleDesc.Count = m4xMsaaState ? 4 : 1;}}
\DoxyCodeLine{01343 \textcolor{comment}{//}}
\DoxyCodeLine{01344 \textcolor{comment}{//  opaquePsoDesc.SampleDesc.Quality = m4xMsaaState ? (m4xMsaaQuality -\/ 1) : 0;}}
\DoxyCodeLine{01345 \textcolor{comment}{//}}
\DoxyCodeLine{01346 \textcolor{comment}{//  opaquePsoDesc.DSVFormat = mDepthStencilFormat;}}
\DoxyCodeLine{01347 \textcolor{comment}{//}}
\DoxyCodeLine{01348 \textcolor{comment}{//  ThrowIfFailed(md3dDevice-\/>CreateGraphicsPipelineState(\&opaquePsoDesc, IID\_PPV\_ARGS(\&mPSOs["{}opaque"{}])));}}
\DoxyCodeLine{01349 \textcolor{comment}{//}}
\DoxyCodeLine{01350 \textcolor{comment}{//}}
\DoxyCodeLine{01351 \textcolor{comment}{//}}
\DoxyCodeLine{01352 \textcolor{comment}{//}}
\DoxyCodeLine{01353 \textcolor{comment}{//}}
\DoxyCodeLine{01354 \textcolor{comment}{//  //}}
\DoxyCodeLine{01355 \textcolor{comment}{//}}
\DoxyCodeLine{01356 \textcolor{comment}{//  // PSO for opaque wireframe objects.}}
\DoxyCodeLine{01357 \textcolor{comment}{//}}
\DoxyCodeLine{01358 \textcolor{comment}{//  //}}
\DoxyCodeLine{01359 \textcolor{comment}{//}}
\DoxyCodeLine{01360 \textcolor{comment}{//}}
\DoxyCodeLine{01361 \textcolor{comment}{//}}
\DoxyCodeLine{01362 \textcolor{comment}{//  D3D12\_GRAPHICS\_PIPELINE\_STATE\_DESC opaqueWireframePsoDesc = opaquePsoDesc;}}
\DoxyCodeLine{01363 \textcolor{comment}{//}}
\DoxyCodeLine{01364 \textcolor{comment}{//  opaqueWireframePsoDesc.RasterizerState.FillMode = D3D12\_FILL\_MODE\_WIREFRAME;}}
\DoxyCodeLine{01365 \textcolor{comment}{//}}
\DoxyCodeLine{01366 \textcolor{comment}{//  ThrowIfFailed(md3dDevice-\/>CreateGraphicsPipelineState(\&opaqueWireframePsoDesc, IID\_PPV\_ARGS(\&mPSOs["{}opaque\_wireframe"{}])));}}
\DoxyCodeLine{01367 \textcolor{comment}{//}}
\DoxyCodeLine{01368 \textcolor{comment}{//\}}}
\DoxyCodeLine{01369 \textcolor{comment}{//}}
\DoxyCodeLine{01370 \textcolor{comment}{//}}
\DoxyCodeLine{01371 \textcolor{comment}{//}}
\DoxyCodeLine{01372 \textcolor{comment}{//void ShapesApp::BuildFrameResources()}}
\DoxyCodeLine{01373 \textcolor{comment}{//}}
\DoxyCodeLine{01374 \textcolor{comment}{//\{}}
\DoxyCodeLine{01375 \textcolor{comment}{//}}
\DoxyCodeLine{01376 \textcolor{comment}{//  for (int i = 0; i < gNumFrameResources; ++i)}}
\DoxyCodeLine{01377 \textcolor{comment}{//}}
\DoxyCodeLine{01378 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01379 \textcolor{comment}{//}}
\DoxyCodeLine{01380 \textcolor{comment}{//      mFrameResources.push\_back(std::make\_unique<FrameResource>(md3dDevice.Get(),}}
\DoxyCodeLine{01381 \textcolor{comment}{//}}
\DoxyCodeLine{01382 \textcolor{comment}{//          1, (UINT)mAllRitems.size()));}}
\DoxyCodeLine{01383 \textcolor{comment}{//}}
\DoxyCodeLine{01384 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01385 \textcolor{comment}{//}}
\DoxyCodeLine{01386 \textcolor{comment}{//\}}}
\DoxyCodeLine{01387 \textcolor{comment}{//}}
\DoxyCodeLine{01388 \textcolor{comment}{//}}
\DoxyCodeLine{01389 \textcolor{comment}{//}}
\DoxyCodeLine{01390 \textcolor{comment}{//void ShapesApp::BuildRenderItems()}}
\DoxyCodeLine{01391 \textcolor{comment}{//}}
\DoxyCodeLine{01392 \textcolor{comment}{//\{}}
\DoxyCodeLine{01393 \textcolor{comment}{//}}
\DoxyCodeLine{01394 \textcolor{comment}{//  auto boxRitem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01395 \textcolor{comment}{//}}
\DoxyCodeLine{01396 \textcolor{comment}{//  XMStoreFloat4x4(\&boxRitem-\/>World, XMMatrixScaling(2.0f, 2.0f, 2.0f) * XMMatrixTranslation(0.0f, 0.5f, 0.0f));}}
\DoxyCodeLine{01397 \textcolor{comment}{//}}
\DoxyCodeLine{01398 \textcolor{comment}{//  boxRitem-\/>ObjCBIndex = 0;}}
\DoxyCodeLine{01399 \textcolor{comment}{//}}
\DoxyCodeLine{01400 \textcolor{comment}{//  boxRitem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01401 \textcolor{comment}{//}}
\DoxyCodeLine{01402 \textcolor{comment}{//  boxRitem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01403 \textcolor{comment}{//}}
\DoxyCodeLine{01404 \textcolor{comment}{//  boxRitem-\/>IndexCount = boxRitem-\/>Geo-\/>DrawArgs["{}box"{}].IndexCount;}}
\DoxyCodeLine{01405 \textcolor{comment}{//}}
\DoxyCodeLine{01406 \textcolor{comment}{//  boxRitem-\/>StartIndexLocation = boxRitem-\/>Geo-\/>DrawArgs["{}box"{}].StartIndexLocation;}}
\DoxyCodeLine{01407 \textcolor{comment}{//}}
\DoxyCodeLine{01408 \textcolor{comment}{//  boxRitem-\/>BaseVertexLocation = boxRitem-\/>Geo-\/>DrawArgs["{}box"{}].BaseVertexLocation;}}
\DoxyCodeLine{01409 \textcolor{comment}{//}}
\DoxyCodeLine{01410 \textcolor{comment}{//  mAllRitems.push\_back(std::move(boxRitem));}}
\DoxyCodeLine{01411 \textcolor{comment}{//}}
\DoxyCodeLine{01412 \textcolor{comment}{//}}
\DoxyCodeLine{01413 \textcolor{comment}{//}}
\DoxyCodeLine{01414 \textcolor{comment}{//}}
\DoxyCodeLine{01415 \textcolor{comment}{//}}
\DoxyCodeLine{01416 \textcolor{comment}{//}}
\DoxyCodeLine{01417 \textcolor{comment}{//}}
\DoxyCodeLine{01418 \textcolor{comment}{//  auto box2Ritem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01419 \textcolor{comment}{//}}
\DoxyCodeLine{01420 \textcolor{comment}{//  XMStoreFloat4x4(\&box2Ritem-\/>World, XMMatrixScaling(2.0f, 2.0f, 2.0f) * XMMatrixTranslation(-\/4.0f, 0.5f, -\/4.0f));}}
\DoxyCodeLine{01421 \textcolor{comment}{//}}
\DoxyCodeLine{01422 \textcolor{comment}{//  box2Ritem-\/>ObjCBIndex = 1;}}
\DoxyCodeLine{01423 \textcolor{comment}{//}}
\DoxyCodeLine{01424 \textcolor{comment}{//  box2Ritem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01425 \textcolor{comment}{//}}
\DoxyCodeLine{01426 \textcolor{comment}{//  box2Ritem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01427 \textcolor{comment}{//}}
\DoxyCodeLine{01428 \textcolor{comment}{//  box2Ritem-\/>IndexCount = box2Ritem-\/>Geo-\/>DrawArgs["{}box"{}].IndexCount;}}
\DoxyCodeLine{01429 \textcolor{comment}{//}}
\DoxyCodeLine{01430 \textcolor{comment}{//  box2Ritem-\/>StartIndexLocation = box2Ritem-\/>Geo-\/>DrawArgs["{}box"{}].StartIndexLocation;}}
\DoxyCodeLine{01431 \textcolor{comment}{//}}
\DoxyCodeLine{01432 \textcolor{comment}{//  box2Ritem-\/>BaseVertexLocation = box2Ritem-\/>Geo-\/>DrawArgs["{}box"{}].BaseVertexLocation;}}
\DoxyCodeLine{01433 \textcolor{comment}{//}}
\DoxyCodeLine{01434 \textcolor{comment}{//  mAllRitems.push\_back(std::move(box2Ritem));}}
\DoxyCodeLine{01435 \textcolor{comment}{//}}
\DoxyCodeLine{01436 \textcolor{comment}{//}}
\DoxyCodeLine{01437 \textcolor{comment}{//}}
\DoxyCodeLine{01438 \textcolor{comment}{//  auto gridRitem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01439 \textcolor{comment}{//}}
\DoxyCodeLine{01440 \textcolor{comment}{//  gridRitem-\/>World = MathHelper::Identity4x4();}}
\DoxyCodeLine{01441 \textcolor{comment}{//}}
\DoxyCodeLine{01442 \textcolor{comment}{//  gridRitem-\/>ObjCBIndex = 2;}}
\DoxyCodeLine{01443 \textcolor{comment}{//}}
\DoxyCodeLine{01444 \textcolor{comment}{//  gridRitem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01445 \textcolor{comment}{//}}
\DoxyCodeLine{01446 \textcolor{comment}{//  gridRitem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01447 \textcolor{comment}{//}}
\DoxyCodeLine{01448 \textcolor{comment}{//  gridRitem-\/>IndexCount = gridRitem-\/>Geo-\/>DrawArgs["{}grid"{}].IndexCount;}}
\DoxyCodeLine{01449 \textcolor{comment}{//}}
\DoxyCodeLine{01450 \textcolor{comment}{//  gridRitem-\/>StartIndexLocation = gridRitem-\/>Geo-\/>DrawArgs["{}grid"{}].StartIndexLocation;}}
\DoxyCodeLine{01451 \textcolor{comment}{//}}
\DoxyCodeLine{01452 \textcolor{comment}{//  gridRitem-\/>BaseVertexLocation = gridRitem-\/>Geo-\/>DrawArgs["{}grid"{}].BaseVertexLocation;}}
\DoxyCodeLine{01453 \textcolor{comment}{//}}
\DoxyCodeLine{01454 \textcolor{comment}{//  mAllRitems.push\_back(std::move(gridRitem));}}
\DoxyCodeLine{01455 \textcolor{comment}{//}}
\DoxyCodeLine{01456 \textcolor{comment}{//}}
\DoxyCodeLine{01457 \textcolor{comment}{//}}
\DoxyCodeLine{01458 \textcolor{comment}{//  UINT objCBIndex = 3;}}
\DoxyCodeLine{01459 \textcolor{comment}{//}}
\DoxyCodeLine{01460 \textcolor{comment}{//  for (int i = 0; i < 5; ++i)}}
\DoxyCodeLine{01461 \textcolor{comment}{//}}
\DoxyCodeLine{01462 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01463 \textcolor{comment}{//}}
\DoxyCodeLine{01464 \textcolor{comment}{//      auto leftCylRitem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01465 \textcolor{comment}{//}}
\DoxyCodeLine{01466 \textcolor{comment}{//      auto rightCylRitem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01467 \textcolor{comment}{//}}
\DoxyCodeLine{01468 \textcolor{comment}{//      auto leftSphereRitem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01469 \textcolor{comment}{//}}
\DoxyCodeLine{01470 \textcolor{comment}{//      auto rightSphereRitem = std::make\_unique<RenderItem>();}}
\DoxyCodeLine{01471 \textcolor{comment}{//}}
\DoxyCodeLine{01472 \textcolor{comment}{//}}
\DoxyCodeLine{01473 \textcolor{comment}{//}}
\DoxyCodeLine{01474 \textcolor{comment}{//      XMMATRIX leftCylWorld = XMMatrixTranslation(-\/5.0f, 1.5f, -\/10.0f + i * 5.0f);}}
\DoxyCodeLine{01475 \textcolor{comment}{//}}
\DoxyCodeLine{01476 \textcolor{comment}{//      XMMATRIX rightCylWorld = XMMatrixTranslation(+5.0f, 1.5f, -\/10.0f + i * 5.0f);}}
\DoxyCodeLine{01477 \textcolor{comment}{//}}
\DoxyCodeLine{01478 \textcolor{comment}{//}}
\DoxyCodeLine{01479 \textcolor{comment}{//}}
\DoxyCodeLine{01480 \textcolor{comment}{//      XMMATRIX leftSphereWorld = XMMatrixTranslation(-\/5.0f, 3.5f, -\/10.0f + i * 5.0f);}}
\DoxyCodeLine{01481 \textcolor{comment}{//}}
\DoxyCodeLine{01482 \textcolor{comment}{//      XMMATRIX rightSphereWorld = XMMatrixTranslation(+5.0f, 3.5f, -\/10.0f + i * 5.0f);}}
\DoxyCodeLine{01483 \textcolor{comment}{//}}
\DoxyCodeLine{01484 \textcolor{comment}{//}}
\DoxyCodeLine{01485 \textcolor{comment}{//}}
\DoxyCodeLine{01486 \textcolor{comment}{//      XMStoreFloat4x4(\&leftCylRitem-\/>World, rightCylWorld);}}
\DoxyCodeLine{01487 \textcolor{comment}{//}}
\DoxyCodeLine{01488 \textcolor{comment}{//      leftCylRitem-\/>ObjCBIndex = objCBIndex++;}}
\DoxyCodeLine{01489 \textcolor{comment}{//}}
\DoxyCodeLine{01490 \textcolor{comment}{//      leftCylRitem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01491 \textcolor{comment}{//}}
\DoxyCodeLine{01492 \textcolor{comment}{//      leftCylRitem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01493 \textcolor{comment}{//}}
\DoxyCodeLine{01494 \textcolor{comment}{//      leftCylRitem-\/>IndexCount = leftCylRitem-\/>Geo-\/>DrawArgs["{}cylinder"{}].IndexCount;}}
\DoxyCodeLine{01495 \textcolor{comment}{//}}
\DoxyCodeLine{01496 \textcolor{comment}{//      leftCylRitem-\/>StartIndexLocation = leftCylRitem-\/>Geo-\/>DrawArgs["{}cylinder"{}].StartIndexLocation;}}
\DoxyCodeLine{01497 \textcolor{comment}{//}}
\DoxyCodeLine{01498 \textcolor{comment}{//      leftCylRitem-\/>BaseVertexLocation = leftCylRitem-\/>Geo-\/>DrawArgs["{}cylinder"{}].BaseVertexLocation;}}
\DoxyCodeLine{01499 \textcolor{comment}{//}}
\DoxyCodeLine{01500 \textcolor{comment}{//}}
\DoxyCodeLine{01501 \textcolor{comment}{//}}
\DoxyCodeLine{01502 \textcolor{comment}{//      XMStoreFloat4x4(\&rightCylRitem-\/>World, leftCylWorld);}}
\DoxyCodeLine{01503 \textcolor{comment}{//}}
\DoxyCodeLine{01504 \textcolor{comment}{//      rightCylRitem-\/>ObjCBIndex = objCBIndex++;}}
\DoxyCodeLine{01505 \textcolor{comment}{//}}
\DoxyCodeLine{01506 \textcolor{comment}{//      rightCylRitem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01507 \textcolor{comment}{//}}
\DoxyCodeLine{01508 \textcolor{comment}{//      rightCylRitem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01509 \textcolor{comment}{//}}
\DoxyCodeLine{01510 \textcolor{comment}{//      rightCylRitem-\/>IndexCount = rightCylRitem-\/>Geo-\/>DrawArgs["{}cylinder"{}].IndexCount;}}
\DoxyCodeLine{01511 \textcolor{comment}{//}}
\DoxyCodeLine{01512 \textcolor{comment}{//      rightCylRitem-\/>StartIndexLocation = rightCylRitem-\/>Geo-\/>DrawArgs["{}cylinder"{}].StartIndexLocation;}}
\DoxyCodeLine{01513 \textcolor{comment}{//}}
\DoxyCodeLine{01514 \textcolor{comment}{//      rightCylRitem-\/>BaseVertexLocation = rightCylRitem-\/>Geo-\/>DrawArgs["{}cylinder"{}].BaseVertexLocation;}}
\DoxyCodeLine{01515 \textcolor{comment}{//}}
\DoxyCodeLine{01516 \textcolor{comment}{//}}
\DoxyCodeLine{01517 \textcolor{comment}{//}}
\DoxyCodeLine{01518 \textcolor{comment}{//      XMStoreFloat4x4(\&leftSphereRitem-\/>World, leftSphereWorld);}}
\DoxyCodeLine{01519 \textcolor{comment}{//}}
\DoxyCodeLine{01520 \textcolor{comment}{//      leftSphereRitem-\/>ObjCBIndex = objCBIndex++;}}
\DoxyCodeLine{01521 \textcolor{comment}{//}}
\DoxyCodeLine{01522 \textcolor{comment}{//      leftSphereRitem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01523 \textcolor{comment}{//}}
\DoxyCodeLine{01524 \textcolor{comment}{//      leftSphereRitem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01525 \textcolor{comment}{//}}
\DoxyCodeLine{01526 \textcolor{comment}{//      leftSphereRitem-\/>IndexCount = leftSphereRitem-\/>Geo-\/>DrawArgs["{}sphere"{}].IndexCount;}}
\DoxyCodeLine{01527 \textcolor{comment}{//}}
\DoxyCodeLine{01528 \textcolor{comment}{//      leftSphereRitem-\/>StartIndexLocation = leftSphereRitem-\/>Geo-\/>DrawArgs["{}sphere"{}].StartIndexLocation;}}
\DoxyCodeLine{01529 \textcolor{comment}{//}}
\DoxyCodeLine{01530 \textcolor{comment}{//      leftSphereRitem-\/>BaseVertexLocation = leftSphereRitem-\/>Geo-\/>DrawArgs["{}sphere"{}].BaseVertexLocation;}}
\DoxyCodeLine{01531 \textcolor{comment}{//}}
\DoxyCodeLine{01532 \textcolor{comment}{//}}
\DoxyCodeLine{01533 \textcolor{comment}{//}}
\DoxyCodeLine{01534 \textcolor{comment}{//      XMStoreFloat4x4(\&rightSphereRitem-\/>World, rightSphereWorld);}}
\DoxyCodeLine{01535 \textcolor{comment}{//}}
\DoxyCodeLine{01536 \textcolor{comment}{//      rightSphereRitem-\/>ObjCBIndex = objCBIndex++;}}
\DoxyCodeLine{01537 \textcolor{comment}{//}}
\DoxyCodeLine{01538 \textcolor{comment}{//      rightSphereRitem-\/>Geo = mGeometries["{}shapeGeo"{}].get();}}
\DoxyCodeLine{01539 \textcolor{comment}{//}}
\DoxyCodeLine{01540 \textcolor{comment}{//      rightSphereRitem-\/>PrimitiveType = D3D\_PRIMITIVE\_TOPOLOGY\_TRIANGLELIST;}}
\DoxyCodeLine{01541 \textcolor{comment}{//}}
\DoxyCodeLine{01542 \textcolor{comment}{//      rightSphereRitem-\/>IndexCount = rightSphereRitem-\/>Geo-\/>DrawArgs["{}sphere"{}].IndexCount;}}
\DoxyCodeLine{01543 \textcolor{comment}{//}}
\DoxyCodeLine{01544 \textcolor{comment}{//      rightSphereRitem-\/>StartIndexLocation = rightSphereRitem-\/>Geo-\/>DrawArgs["{}sphere"{}].StartIndexLocation;}}
\DoxyCodeLine{01545 \textcolor{comment}{//}}
\DoxyCodeLine{01546 \textcolor{comment}{//      rightSphereRitem-\/>BaseVertexLocation = rightSphereRitem-\/>Geo-\/>DrawArgs["{}sphere"{}].BaseVertexLocation;}}
\DoxyCodeLine{01547 \textcolor{comment}{//}}
\DoxyCodeLine{01548 \textcolor{comment}{//}}
\DoxyCodeLine{01549 \textcolor{comment}{//}}
\DoxyCodeLine{01550 \textcolor{comment}{//      mAllRitems.push\_back(std::move(leftCylRitem));}}
\DoxyCodeLine{01551 \textcolor{comment}{//}}
\DoxyCodeLine{01552 \textcolor{comment}{//      mAllRitems.push\_back(std::move(rightCylRitem));}}
\DoxyCodeLine{01553 \textcolor{comment}{//}}
\DoxyCodeLine{01554 \textcolor{comment}{//      mAllRitems.push\_back(std::move(leftSphereRitem));}}
\DoxyCodeLine{01555 \textcolor{comment}{//}}
\DoxyCodeLine{01556 \textcolor{comment}{//      mAllRitems.push\_back(std::move(rightSphereRitem));}}
\DoxyCodeLine{01557 \textcolor{comment}{//}}
\DoxyCodeLine{01558 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01559 \textcolor{comment}{//}}
\DoxyCodeLine{01560 \textcolor{comment}{//}}
\DoxyCodeLine{01561 \textcolor{comment}{//}}
\DoxyCodeLine{01562 \textcolor{comment}{//  // All the render items are opaque.}}
\DoxyCodeLine{01563 \textcolor{comment}{//}}
\DoxyCodeLine{01564 \textcolor{comment}{//  for (auto\& e : mAllRitems)}}
\DoxyCodeLine{01565 \textcolor{comment}{//}}
\DoxyCodeLine{01566 \textcolor{comment}{//      mOpaqueRitems.push\_back(e.get());}}
\DoxyCodeLine{01567 \textcolor{comment}{//}}
\DoxyCodeLine{01568 \textcolor{comment}{//\}}}
\DoxyCodeLine{01569 \textcolor{comment}{//}}
\DoxyCodeLine{01570 \textcolor{comment}{//}}
\DoxyCodeLine{01571 \textcolor{comment}{//}}
\DoxyCodeLine{01572 \textcolor{comment}{//void ShapesApp::DrawRenderItems(ID3D12GraphicsCommandList* cmdList, const std::vector<RenderItem*>\& ritems)}}
\DoxyCodeLine{01573 \textcolor{comment}{//}}
\DoxyCodeLine{01574 \textcolor{comment}{//\{}}
\DoxyCodeLine{01575 \textcolor{comment}{//}}
\DoxyCodeLine{01576 \textcolor{comment}{//  UINT objCBByteSize = d3dUtil::CalcConstantBufferByteSize(sizeof(ObjectConstants));}}
\DoxyCodeLine{01577 \textcolor{comment}{//}}
\DoxyCodeLine{01578 \textcolor{comment}{//}}
\DoxyCodeLine{01579 \textcolor{comment}{//}}
\DoxyCodeLine{01580 \textcolor{comment}{//  auto objectCB = mCurrFrameResource-\/>ObjectCB-\/>Resource();}}
\DoxyCodeLine{01581 \textcolor{comment}{//}}
\DoxyCodeLine{01582 \textcolor{comment}{//}}
\DoxyCodeLine{01583 \textcolor{comment}{//}}
\DoxyCodeLine{01584 \textcolor{comment}{//  // For each render item...}}
\DoxyCodeLine{01585 \textcolor{comment}{//}}
\DoxyCodeLine{01586 \textcolor{comment}{//  for (size\_t i = 0; i < ritems.size(); ++i)}}
\DoxyCodeLine{01587 \textcolor{comment}{//}}
\DoxyCodeLine{01588 \textcolor{comment}{//  \{}}
\DoxyCodeLine{01589 \textcolor{comment}{//}}
\DoxyCodeLine{01590 \textcolor{comment}{//      auto ri = ritems[i];}}
\DoxyCodeLine{01591 \textcolor{comment}{//}}
\DoxyCodeLine{01592 \textcolor{comment}{//}}
\DoxyCodeLine{01593 \textcolor{comment}{//}}
\DoxyCodeLine{01594 \textcolor{comment}{//      cmdList-\/>IASetVertexBuffers(0, 1, \&ri-\/>Geo-\/>VertexBufferView());}}
\DoxyCodeLine{01595 \textcolor{comment}{//}}
\DoxyCodeLine{01596 \textcolor{comment}{//      cmdList-\/>IASetIndexBuffer(\&ri-\/>Geo-\/>IndexBufferView());}}
\DoxyCodeLine{01597 \textcolor{comment}{//}}
\DoxyCodeLine{01598 \textcolor{comment}{//      cmdList-\/>IASetPrimitiveTopology(ri-\/>PrimitiveType);}}
\DoxyCodeLine{01599 \textcolor{comment}{//}}
\DoxyCodeLine{01600 \textcolor{comment}{//}}
\DoxyCodeLine{01601 \textcolor{comment}{//      //step 3:no more heap, we simple bind the virtual address of the resource (constant buffer) directly for each render item.}}
\DoxyCodeLine{01602 \textcolor{comment}{//}}
\DoxyCodeLine{01603 \textcolor{comment}{//      // Offset to the CBV in the descriptor heap for this object and for this frame resource.}}
\DoxyCodeLine{01604 \textcolor{comment}{//      //UINT cbvIndex = mCurrFrameResourceIndex * (UINT)mOpaqueRitems.size() + ri-\/>ObjCBIndex;}}
\DoxyCodeLine{01605 \textcolor{comment}{//      //auto cbvHandle = CD3DX12\_GPU\_DESCRIPTOR\_HANDLE(mCbvHeap-\/>GetGPUDescriptorHandleForHeapStart());}}
\DoxyCodeLine{01606 \textcolor{comment}{//      //cbvHandle.Offset(cbvIndex, mCbvSrvUavDescriptorSize);}}
\DoxyCodeLine{01607 \textcolor{comment}{//      //cmdList-\/>SetGraphicsRootDescriptorTable(0, cbvHandle);}}
\DoxyCodeLine{01608 \textcolor{comment}{//}}
\DoxyCodeLine{01609 \textcolor{comment}{//      D3D12\_GPU\_VIRTUAL\_ADDRESS objCBAddress = objectCB-\/>GetGPUVirtualAddress();}}
\DoxyCodeLine{01610 \textcolor{comment}{//      objCBAddress += ri-\/>ObjCBIndex * objCBByteSize;}}
\DoxyCodeLine{01611 \textcolor{comment}{//      cmdList-\/>SetGraphicsRootConstantBufferView(0, objCBAddress);}}
\DoxyCodeLine{01612 \textcolor{comment}{//}}
\DoxyCodeLine{01613 \textcolor{comment}{//}}
\DoxyCodeLine{01614 \textcolor{comment}{//      cmdList-\/>DrawIndexedInstanced(ri-\/>IndexCount, 1, ri-\/>StartIndexLocation, ri-\/>BaseVertexLocation, 0);}}
\DoxyCodeLine{01615 \textcolor{comment}{//}}
\DoxyCodeLine{01616 \textcolor{comment}{//  \}}}
\DoxyCodeLine{01617 \textcolor{comment}{//}}
\DoxyCodeLine{01618 \textcolor{comment}{//\}}}
\DoxyCodeLine{01619 \textcolor{comment}{//}}

\end{DoxyCode}
